<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>关于UIimage存储以及显示的问题</title>
      <link href="/jackerchongchong.github.io/2020/05/09/iosbase5/"/>
      <url>/jackerchongchong.github.io/2020/05/09/iosbase5/</url>
      
        <content type="html"><![CDATA[<h4 id="关于UIImage存储的那些事"><a href="#关于UIImage存储的那些事" class="headerlink" title="关于UIImage存储的那些事"></a>关于UIImage存储的那些事</h4><p>最近在做一款APP时，需要存储以及加载大量的本地图片，在写代码过程中，遇到一些问题，导致内存暴涨，导致cash.</p><h5 id="将拍摄或者从相册选取的图片存入沙盒"><a href="#将拍摄或者从相册选取的图片存入沙盒" class="headerlink" title="将拍摄或者从相册选取的图片存入沙盒"></a>将拍摄或者从相册选取的图片存入沙盒</h5><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">/// 将图片保存到本地</span><span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>saveImageToLocal<span class="token punctuation">:</span><span class="token punctuation">(</span>UIImage<span class="token operator">*</span><span class="token punctuation">)</span>image fileName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>fileName <span class="token punctuation">{</span>NSString <span class="token operator">*</span>documentPath <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">NSSearchPathForDirectoriesInDomains</span><span class="token punctuation">(</span>NSDocumentDirectory<span class="token punctuation">,</span> NSUserDomainMask<span class="token punctuation">,</span> YES<span class="token punctuation">)</span> firstObject<span class="token punctuation">]</span><span class="token punctuation">;</span>NSString <span class="token operator">*</span>filePath <span class="token operator">=</span> <span class="token punctuation">[</span>documentPath stringByAppendingPathComponent<span class="token punctuation">:</span><span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%@.png"</span><span class="token punctuation">,</span> fileName<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 图片转base64字符串</span>    NSData <span class="token operator">*</span>data <span class="token operator">=</span> <span class="token function">UIImageJPEGRepresentation</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 写入文件</span>    BOOL flag <span class="token operator">=</span> <span class="token punctuation">[</span>data writeToFile<span class="token punctuation">:</span>filePath atomically<span class="token punctuation">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"保存成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>   由于图片不能被压缩，要保证图片不失帧，所以用到了苹果官方提供的方法 <strong>UIImageJPEGRepresentation(image, 1.0)</strong>这个方法，会在不失帧的情况下，将图片转化成data二进制流。由于此方法比较耗时，所以，尽量减少在循环中大量调用此方法。<br>存储时，最好直接将图片写入沙盒。不要做多余的转化</p><p>显示的时候，直接从沙盒读取，直接读取图片，不要再用 <strong>[UIimage imageWithData:data]</strong> 来再次转化，因为此方法，会使你的内存得不到释放，且，由于是系统提供的方法，在ARC环境下，不能手动释放。</p><p>可能有人会说，加一个@autoreleasepool {}自动释放池，但是并不能及时的释放掉，创建的Data或者image，即使是加了 <strong>data = nil  image = nil</strong> 也不能正确的释放掉，已经创建好的对象。</p><p>所以，取图片时，也必须直接取出</p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">/// 从本地获取图片</span><span class="token operator">+</span> <span class="token punctuation">(</span>UIImage<span class="token operator">*</span><span class="token punctuation">)</span>getImageFromLocal<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>fileName <span class="token punctuation">{</span>    NSString <span class="token operator">*</span>documentPath <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">NSSearchPathForDirectoriesInDomains</span><span class="token punctuation">(</span>NSDocumentDirectory<span class="token punctuation">,</span> NSUserDomainMask<span class="token punctuation">,</span> YES<span class="token punctuation">)</span> firstObject<span class="token punctuation">]</span><span class="token punctuation">;</span>    NSString <span class="token operator">*</span>filePath <span class="token operator">=</span> <span class="token punctuation">[</span>documentPath stringByAppendingPathComponent<span class="token punctuation">:</span><span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%@.png"</span><span class="token punctuation">,</span> fileName<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    UIImage <span class="token operator">*</span>image <span class="token operator">=</span> <span class="token punctuation">[</span>UIImage imageWithContentsOfFile<span class="token punctuation">:</span>filePath<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> image<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>尽可能的减少对 <strong>[UIimage imageWithData:data]</strong> 的使用。因为加载图片时，内存不会飙升到手机的内存限制，但是如果多次使用以上两个耗时方法，会因为对象的使用内存无法得到及时的释放，从而累加，直至超出手机的限制，从而导致程序闪退。</p><hr><blockquote><blockquote><blockquote><p>以上是对遇到此问题的一个笔记，仅供参考，欢迎讨论。</p></blockquote></blockquote></blockquote>]]></content>
      
      
      <categories>
          
          <category> iOS基础知识总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS基础知识总结 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>高德地图的使用</title>
      <link href="/jackerchongchong.github.io/2020/01/07/iosbasex4/"/>
      <url>/jackerchongchong.github.io/2020/01/07/iosbasex4/</url>
      
        <content type="html"><![CDATA[<h4 id="关于高德地图的使用"><a href="#关于高德地图的使用" class="headerlink" title="关于高德地图的使用"></a>关于高德地图的使用</h4><p>最近在做一款iOS APP，用到了地图功能，出于多方考虑，使用了高德地图，来实现，实时轨迹、轨迹循迹、在地图上显示自定义大头针，轨迹平滑处理、加载高德地图瓦片功能等，在这里做一下总结。</p><h5 id="地图初始化"><a href="#地图初始化" class="headerlink" title="地图初始化"></a>地图初始化</h5><ol><li><p>首先，根据高德开发文档，将SDK导入到项目中，这里不做赘述</p></li><li><p>导入成功后，在.h文件中引入头文件：</p><ul><li>import AMapFoundationKit/AMapFoundationKit.h</li><li>import MAMapKit/MAMapKit.h</li><li>import AMapLocationKit/AMapLocationManager.h</li></ul></li><li><p>初始化地图：<br> 设置属性     </p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 高德地图</span><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> strong<span class="token punctuation">)</span> MAMapView <span class="token operator">*</span>mapView<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 定位管理者</span><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> strong<span class="token punctuation">)</span> AMapLocationManager <span class="token operator">*</span>locationManager<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 地图瓦片</span><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> strong<span class="token punctuation">)</span> MATileOverlay <span class="token operator">*</span>tileOverlay</code></pre><p>懒加载地图   </p></li></ol><pre class=" language-objectivec"><code class="language-objectivec">   pragma mark <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>懒加载<span class="token comment" spellcheck="true">// 定位管理者</span><span class="token operator">-</span> <span class="token punctuation">(</span>AMapLocationManager <span class="token operator">*</span><span class="token punctuation">)</span>locationManager <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>_locationManager <span class="token operator">==</span> nil<span class="token punctuation">)</span> <span class="token punctuation">{</span>        AMapLocationManager <span class="token operator">*</span>locationManager <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>AMapLocationManager alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>        locationManager<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 定位的最小更新距离</span>        locationManager<span class="token punctuation">.</span>distanceFilter <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 指定定位是否会被系统自动暂停。默认为NO。</span>        locationManager<span class="token punctuation">.</span>pausesLocationUpdatesAutomatically <span class="token operator">=</span> NO<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 是否允许后台定位。默认为NO。</span>        locationManager<span class="token punctuation">.</span>allowsBackgroundLocationUpdates <span class="token operator">=</span> YES<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 连续定位是否返回逆地理信息，默认NO。</span>        locationManager<span class="token punctuation">.</span>locatingWithReGeocode <span class="token operator">=</span> YES<span class="token punctuation">;</span>        locationManager<span class="token punctuation">.</span>desiredAccuracy <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>        _locationManager <span class="token operator">=</span> locationManager<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> _locationManager<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// MapView</span><span class="token operator">-</span><span class="token punctuation">(</span>MAMapView <span class="token operator">*</span><span class="token punctuation">)</span>mapView<span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_mapView<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 1、地图</span>        MAMapView <span class="token operator">*</span>mapView <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>MAMapView alloc<span class="token punctuation">]</span> initWithFrame<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>view<span class="token punctuation">.</span>bounds<span class="token punctuation">]</span><span class="token punctuation">;</span>        mapView<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 是否显示用户位置（定位蓝点）</span>        mapView<span class="token punctuation">.</span>showsUserLocation <span class="token operator">=</span> YES<span class="token punctuation">;</span>        mapView<span class="token punctuation">.</span>userTrackingMode <span class="token operator">=</span> MAUserTrackingModeFollow<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 是否显示室内地图, 默认NO</span>        mapView<span class="token punctuation">.</span>showsIndoorMap <span class="token operator">=</span> YES<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 地图类型</span>        mapView<span class="token punctuation">.</span>mapType <span class="token operator">=</span> MAMapTypeStandard<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 地图logo（高德地图字样）</span>        <span class="token comment" spellcheck="true">//    mapView.logoCenter</span>        <span class="token comment" spellcheck="true">// 指南针</span>        mapView<span class="token punctuation">.</span>showsCompass <span class="token operator">=</span> NO<span class="token punctuation">;</span>        mapView<span class="token punctuation">.</span>compassOrigin <span class="token operator">=</span> <span class="token function">CGPointMake</span><span class="token punctuation">(</span>kScreenWidth<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 比例尺</span>        mapView<span class="token punctuation">.</span>showsScale<span class="token operator">=</span> YES<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//设置成NO表示不显示比例尺；YES表示显示比例尺</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>kIsIphoneX<span class="token punctuation">)</span> <span class="token punctuation">{</span>            mapView<span class="token punctuation">.</span>scaleOrigin<span class="token operator">=</span> <span class="token function">CGPointMake</span><span class="token punctuation">(</span>_mapView<span class="token punctuation">.</span>scaleOrigin<span class="token punctuation">.</span>x<span class="token punctuation">,</span>kScreenHeight<span class="token number">-300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//设置比例尺位置</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            mapView<span class="token punctuation">.</span>scaleOrigin<span class="token operator">=</span> <span class="token function">CGPointMake</span><span class="token punctuation">(</span>_mapView<span class="token punctuation">.</span>scaleOrigin<span class="token punctuation">.</span>x<span class="token punctuation">,</span>kScreenHeight<span class="token number">-53</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//设置比例尺位置</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// 是否支持缩放, 默认YES</span>        mapView<span class="token punctuation">.</span>zoomEnabled <span class="token operator">=</span> YES<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 缩放级别（默认3-19，有室内地图时为3-20）</span>        mapView<span class="token punctuation">.</span>zoomLevel <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span>        mapView<span class="token punctuation">.</span>minZoomLevel <span class="token operator">=</span> kTileOverlayRemoteMinZoom<span class="token punctuation">;</span>        mapView<span class="token punctuation">.</span>maxZoomLevel <span class="token operator">=</span> kTileOverlayRemoteMaxZoom<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 是否支持平移, 默认YES</span>        mapView<span class="token punctuation">.</span>scrollEnabled <span class="token operator">=</span> YES<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 是否支持旋转, 默认YES</span>        mapView<span class="token punctuation">.</span>rotateEnabled <span class="token operator">=</span> YES<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 是否支持倾斜, 默认YES（用户可以在地图上放置两个手指，移动它们一起向下或向上去增加或减小倾斜角。）</span>        mapView<span class="token punctuation">.</span>rotateCameraEnabled <span class="token operator">=</span> YES<span class="token punctuation">;</span>        _mapView <span class="token operator">=</span> mapView<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    _mapView<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> _mapView<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>   然后将将地图添加到View上</p><pre class=" language-objectivec"><code class="language-objectivec">    <span class="token comment" spellcheck="true">// 高德地图</span>    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 开启持续定位</span>    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>locationManager startUpdatingLocation<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>  这里因为要实时绘制行走的路线轨迹，所以使用持续定位，到这里，地图已经显示出来了</p><h5 id="使用高德地图加载谷歌地图瓦片（地形图和卫星图）"><a href="#使用高德地图加载谷歌地图瓦片（地形图和卫星图）" class="headerlink" title="使用高德地图加载谷歌地图瓦片（地形图和卫星图）"></a>使用高德地图加载谷歌地图瓦片（地形图和卫星图）</h5><p>设置默认  地图</p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// Google地形瓦片地图URL</span>define kTileOverlayGoogleTopography <span class="token string">@"http://mt2.google.cn/vt/lyrs=p&amp;scale=2&amp;hl=zh-CN&amp;gl=cn&amp;x={x}&amp;y={y}&amp;z={z}"</span><span class="token comment" spellcheck="true">// Google卫星瓦片地图URL</span>define kTileOverlayGoogleSatellite <span class="token string">@"http://mt2.google.cn/vt/lyrs=y&amp;scale=2&amp;hl=zh-CN&amp;gl=cn&amp;x={x}&amp;y={y}&amp;z={z}"</span><span class="token comment" spellcheck="true">// 瓦片最小缩放级别</span>define kTileOverlayRemoteMinZoom <span class="token number">3</span><span class="token comment" spellcheck="true">// 瓦片最大缩放级别</span>define kTileOverlayRemoteMaxZoom <span class="token number">19</span>pragma mark <span class="token operator">-</span> 构建Google瓦片<span class="token operator">-</span> <span class="token punctuation">(</span>MATileOverlay <span class="token operator">*</span><span class="token punctuation">)</span>constructGoogleTileOverlay<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>url <span class="token punctuation">{</span>    MATileOverlay <span class="token operator">*</span>tileOverlay <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>MATileOverlay alloc<span class="token punctuation">]</span> initWithURLTemplate<span class="token punctuation">:</span>url<span class="token punctuation">]</span><span class="token punctuation">;</span>    tileOverlay<span class="token punctuation">.</span>minimumZ <span class="token operator">=</span> kTileOverlayRemoteMinZoom<span class="token punctuation">;</span>    tileOverlay<span class="token punctuation">.</span>maximumZ <span class="token operator">=</span> kTileOverlayRemoteMaxZoom<span class="token punctuation">;</span>    tileOverlay<span class="token punctuation">.</span>boundingMapRect <span class="token operator">=</span> MAMapRectWorld<span class="token punctuation">;</span>    <span class="token keyword">return</span> tileOverlay<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/** * @brief 根据overlay生成对应的Renderer * @param mapView 地图View * @param overlay 指定的overlay * @return 生成的覆盖物Renderer */</span><span class="token operator">-</span> <span class="token punctuation">(</span>MAOverlayRenderer <span class="token operator">*</span><span class="token punctuation">)</span>mapView<span class="token punctuation">:</span><span class="token punctuation">(</span>MAMapView <span class="token operator">*</span><span class="token punctuation">)</span>mapView rendererForOverlay<span class="token punctuation">:</span><span class="token punctuation">(</span>id<span class="token operator">&lt;</span>MAOverlay<span class="token operator">></span><span class="token punctuation">)</span>overlay <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>overlay isKindOfClass<span class="token punctuation">:</span><span class="token punctuation">[</span>MATileOverlay class<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 瓦片</span>        MATileOverlayRenderer <span class="token operator">*</span>render <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>MATileOverlayRenderer alloc<span class="token punctuation">]</span> initWithTileOverlay<span class="token punctuation">:</span>overlay<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> render<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> nil<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>setMapStyp<span class="token punctuation">{</span>    NSInteger mapType <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSUserDefaults standardUserDefaults<span class="token punctuation">]</span> integerForKey<span class="token punctuation">:</span><span class="token string">@"mapType"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mapType <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView removeOverlays<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView<span class="token punctuation">.</span>overlays<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mapType <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 移除所有瓦片</span>        <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView removeOverlays<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView<span class="token punctuation">.</span>overlays<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 构建Google地形瓦片</span>        <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView addOverlay<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> constructGoogleTileOverlay<span class="token punctuation">:</span>kTileOverlayGoogleTopography<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mapType <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView removeOverlays<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView<span class="token punctuation">.</span>overlays<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 构建Google卫星瓦片</span>        <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView addOverlay<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> constructGoogleTileOverlay<span class="token punctuation">:</span>kTileOverlayGoogleSatellite<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h5 id="实时轨迹画线"><a href="#实时轨迹画线" class="headerlink" title="实时轨迹画线"></a>实时轨迹画线</h5><p>首先在地图的代理中，采集画轨迹所需要的坐标点</p><pre class=" language-objectivec"><code class="language-objectivec">pragma mark <span class="token operator">-</span> 位置更新之后<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>amapLocationManager<span class="token punctuation">:</span><span class="token punctuation">(</span>AMapLocationManager <span class="token operator">*</span><span class="token punctuation">)</span>manager didUpdateLocation<span class="token punctuation">:</span><span class="token punctuation">(</span>CLLocation <span class="token operator">*</span><span class="token punctuation">)</span>location reGeocode<span class="token punctuation">:</span><span class="token punctuation">(</span>AMapLocationReGeocode <span class="token operator">*</span><span class="token punctuation">)</span>reGeocode <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 底部显示坐标</span>    <span class="token keyword">self</span><span class="token punctuation">.</span>locationLabel<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%lf %lf"</span><span class="token punctuation">,</span>location<span class="token punctuation">.</span>coordinate<span class="token punctuation">.</span>longitude<span class="token punctuation">,</span>location<span class="token punctuation">.</span>coordinate<span class="token punctuation">.</span>latitude<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 底部显示的海拔</span>    <span class="token keyword">self</span><span class="token punctuation">.</span>altitudeLabel<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%.fM"</span><span class="token punctuation">,</span>location<span class="token punctuation">.</span>altitude<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 如果点了暂停，不在往数组里添加点</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>isPause<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 如果还在初始化中，不在往数组里添加点</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>showSetUpView<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>locationMutableArray<span class="token punctuation">.</span>count<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 从位置数组中取出最后一个点的位置</span>        NSMutableDictionary <span class="token operator">*</span>getPointDict <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>locationMutableArray<span class="token punctuation">.</span>lastObject<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 计算当前位置和上一个点之间的时间间隔</span>        NSString <span class="token operator">*</span>fromDateStr <span class="token operator">=</span> getPointDict<span class="token punctuation">[</span><span class="token string">@"time"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        NSString <span class="token operator">*</span>toDateStr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>dateFormatter stringFromDate<span class="token punctuation">:</span>location<span class="token punctuation">.</span>timestamp<span class="token punctuation">]</span><span class="token punctuation">;</span>        NSInteger secondsInterval <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span> caculateDateWithFromDateStr<span class="token punctuation">:</span>fromDateStr toDateStr<span class="token punctuation">:</span>toDateStr<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 如果时间间隔小于2秒，不记录</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>secondsInterval<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 计算当前位置和上一个点之间的距离</span>        NSString <span class="token operator">*</span>latitudeStr <span class="token operator">=</span> getPointDict<span class="token punctuation">[</span><span class="token string">@"latitude"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        NSString <span class="token operator">*</span>longitudeStr <span class="token operator">=</span> getPointDict<span class="token punctuation">[</span><span class="token string">@"longitude"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 拿到当前位置数据</span>        CLLocationCoordinate2D endCoordinate<span class="token punctuation">;</span>        endCoordinate<span class="token punctuation">.</span>latitude <span class="token operator">=</span> location<span class="token punctuation">.</span>coordinate<span class="token punctuation">.</span>latitude<span class="token punctuation">;</span>        endCoordinate<span class="token punctuation">.</span>longitude <span class="token operator">=</span> location<span class="token punctuation">.</span>coordinate<span class="token punctuation">.</span>longitude<span class="token punctuation">;</span>        <span class="token keyword">double</span> meters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span> distanceBetweenOrderBy<span class="token punctuation">:</span>latitudeStr<span class="token punctuation">.</span>doubleValue <span class="token punctuation">:</span>location<span class="token punctuation">.</span>coordinate<span class="token punctuation">.</span>latitude <span class="token punctuation">:</span>longitudeStr<span class="token punctuation">.</span>doubleValue <span class="token punctuation">:</span>location<span class="token punctuation">.</span>coordinate<span class="token punctuation">.</span>longitude<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 大于所少米可以记录</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>travalType <span class="token operator">!=</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>meters<span class="token operator">&lt;</span><span class="token keyword">self</span><span class="token punctuation">.</span>travalTypeM<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// 速度大于200公里/时</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>meters<span class="token operator">/</span>secondsInterval<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">55.555</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 计算行走的米数</span>        <span class="token punctuation">[</span><span class="token keyword">self</span> caculateTrackDistanceWithUserLocation<span class="token punctuation">:</span>location<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 将点数据添加到数组中</span>        NSString <span class="token operator">*</span>pointDate <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>dateFormatter stringFromDate<span class="token punctuation">:</span>location<span class="token punctuation">.</span>timestamp<span class="token punctuation">]</span><span class="token punctuation">;</span>        NSMutableDictionary <span class="token operator">*</span>pointDict <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableDictionary dictionary<span class="token punctuation">]</span><span class="token punctuation">;</span>        pointDict<span class="token punctuation">[</span><span class="token string">@"longitude"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%f"</span><span class="token punctuation">,</span>location<span class="token punctuation">.</span>coordinate<span class="token punctuation">.</span>longitude<span class="token punctuation">]</span><span class="token punctuation">;</span>        pointDict<span class="token punctuation">[</span><span class="token string">@"latitude"</span><span class="token punctuation">]</span>  <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%f"</span><span class="token punctuation">,</span>location<span class="token punctuation">.</span>coordinate<span class="token punctuation">.</span>latitude<span class="token punctuation">]</span><span class="token punctuation">;</span>        pointDict<span class="token punctuation">[</span><span class="token string">@"altitude"</span><span class="token punctuation">]</span> <span class="token operator">=</span>  <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%.f"</span><span class="token punctuation">,</span>location<span class="token punctuation">.</span>altitude<span class="token punctuation">]</span><span class="token punctuation">;</span>        pointDict<span class="token punctuation">[</span><span class="token string">@"time"</span><span class="token punctuation">]</span> <span class="token operator">=</span> pointDate<span class="token punctuation">;</span>        <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>locationMutableArray addObject<span class="token punctuation">:</span>pointDict<span class="token punctuation">]</span><span class="token punctuation">;</span>        NSString <span class="token operator">*</span>altitude <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%.f"</span><span class="token punctuation">,</span>location<span class="token punctuation">.</span>altitude<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>altitudeArray addObject<span class="token punctuation">:</span>altitude<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 画线</span>        <span class="token punctuation">[</span><span class="token keyword">self</span> drawLine<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 将点数据添加到数组中</span>        NSString <span class="token operator">*</span>pointDate <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>dateFormatter stringFromDate<span class="token punctuation">:</span>location<span class="token punctuation">.</span>timestamp<span class="token punctuation">]</span><span class="token punctuation">;</span>        NSMutableDictionary <span class="token operator">*</span>pointDict <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableDictionary dictionary<span class="token punctuation">]</span><span class="token punctuation">;</span>        pointDict<span class="token punctuation">[</span><span class="token string">@"longitude"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%f"</span><span class="token punctuation">,</span>location<span class="token punctuation">.</span>coordinate<span class="token punctuation">.</span>longitude<span class="token punctuation">]</span><span class="token punctuation">;</span>        pointDict<span class="token punctuation">[</span><span class="token string">@"latitude"</span><span class="token punctuation">]</span>  <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%f"</span><span class="token punctuation">,</span>location<span class="token punctuation">.</span>coordinate<span class="token punctuation">.</span>latitude<span class="token punctuation">]</span><span class="token punctuation">;</span>        pointDict<span class="token punctuation">[</span><span class="token string">@"altitude"</span><span class="token punctuation">]</span> <span class="token operator">=</span>  <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%.f"</span><span class="token punctuation">,</span>location<span class="token punctuation">.</span>altitude<span class="token punctuation">]</span><span class="token punctuation">;</span>        pointDict<span class="token punctuation">[</span><span class="token string">@"time"</span><span class="token punctuation">]</span> <span class="token operator">=</span> pointDate<span class="token punctuation">;</span>        <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>locationMutableArray addObject<span class="token punctuation">:</span>pointDict<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 添加起点坐标View</span>        <span class="token keyword">self</span><span class="token punctuation">.</span>startAnnotation<span class="token punctuation">.</span>coordinate <span class="token operator">=</span> location<span class="token punctuation">.</span>coordinate<span class="token punctuation">;</span>        <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView addAnnotation<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>startAnnotation<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/// 画线</span><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>drawLine<span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 先移除</span>    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView removeOverlay<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>smoothedTrace<span class="token punctuation">]</span><span class="token punctuation">;</span>    MASmoothPathTool <span class="token operator">*</span>tool <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>MASmoothPathTool alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>    tool<span class="token punctuation">.</span>intensity <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>    tool<span class="token punctuation">.</span>threshHold <span class="token operator">=</span> <span class="token number">0.25</span><span class="token punctuation">;</span>    tool<span class="token punctuation">.</span>noiseThreshhold <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    NSMutableArray <span class="token operator">*</span>tempArray <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableArray array<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/// 将自己的点Model转换成MALonLatPoint</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>NSMutableDictionary <span class="token operator">*</span>pointDict <span class="token keyword">in</span> <span class="token keyword">self</span><span class="token punctuation">.</span>locationMutableArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>        MALonLatPoint <span class="token operator">*</span>smoothPoint <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>MALonLatPoint alloc<span class="token punctuation">]</span>init<span class="token punctuation">]</span><span class="token punctuation">;</span>        smoothPoint<span class="token punctuation">.</span>lat <span class="token operator">=</span> <span class="token punctuation">[</span>pointDict<span class="token punctuation">[</span><span class="token string">@"latitude"</span><span class="token punctuation">]</span> floatValue<span class="token punctuation">]</span><span class="token punctuation">;</span>        smoothPoint<span class="token punctuation">.</span>lon <span class="token operator">=</span> <span class="token punctuation">[</span>pointDict<span class="token punctuation">[</span><span class="token string">@"longitude"</span><span class="token punctuation">]</span> floatValue<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">[</span>tempArray addObject<span class="token punctuation">:</span>smoothPoint<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 平滑处理之后的坐标点</span>    NSArray <span class="token operator">*</span>smoothedTraceArray <span class="token operator">=</span> <span class="token punctuation">[</span>tool pathOptimize<span class="token punctuation">:</span>tempArray<span class="token punctuation">]</span><span class="token punctuation">;</span>    CLLocationCoordinate2D <span class="token operator">*</span>pCoords <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>CLLocationCoordinate2D<span class="token punctuation">)</span> <span class="token operator">*</span> smoothedTraceArray<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>pCoords<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> smoothedTraceArray<span class="token punctuation">.</span>count<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        MALonLatPoint <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">[</span>smoothedTraceArray objectAtIndex<span class="token punctuation">:</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        CLLocationCoordinate2D <span class="token operator">*</span>pCur <span class="token operator">=</span> pCoords <span class="token operator">+</span> i<span class="token punctuation">;</span>        pCur<span class="token operator">-></span>latitude <span class="token operator">=</span> p<span class="token punctuation">.</span>lat<span class="token punctuation">;</span>        pCur<span class="token operator">-></span>longitude <span class="token operator">=</span> p<span class="token punctuation">.</span>lon<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">self</span><span class="token punctuation">.</span>smoothedTrace <span class="token operator">=</span> <span class="token punctuation">[</span>MAPolyline polylineWithCoordinates<span class="token punctuation">:</span>pCoords count<span class="token punctuation">:</span>tempArray<span class="token punctuation">.</span>count<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView addOverlay<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>smoothedTrace<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>pCoords<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">free</span><span class="token punctuation">(</span>pCoords<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 计算两个日期的差值</span><span class="token operator">-</span> <span class="token punctuation">(</span>NSInteger<span class="token punctuation">)</span>caculateDateWithFromDateStr<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>fromDateStr toDateStr<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>toDateStr<span class="token punctuation">{</span>    NSDate <span class="token operator">*</span>fromDate <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>dateFormatter dateFromString<span class="token punctuation">:</span>fromDateStr<span class="token punctuation">]</span><span class="token punctuation">;</span>    NSDate <span class="token operator">*</span>toDate <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>dateFormatter dateFromString<span class="token punctuation">:</span>toDateStr<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 创建日历类</span>    NSCalendar <span class="token operator">*</span>calendar <span class="token operator">=</span> <span class="token punctuation">[</span>NSCalendar currentCalendar<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 设置比较的级别：秒</span>    NSCalendarUnit unit <span class="token operator">=</span> NSCalendarUnitSecond<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//比较的结果是NSDateComponents类对象</span>    NSDateComponents <span class="token operator">*</span>delta <span class="token operator">=</span> <span class="token punctuation">[</span>calendar components<span class="token punctuation">:</span>unit fromDate<span class="token punctuation">:</span>fromDate toDate<span class="token punctuation">:</span>toDate options<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> delta<span class="token punctuation">.</span>second<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/// 计算两个经纬度之间的距离</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>distanceBetweenOrderBy<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> lat1 <span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> lat2 <span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> lng1 <span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> lng2<span class="token punctuation">{</span>    CLLocation <span class="token operator">*</span>curLocation <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>CLLocation alloc<span class="token punctuation">]</span> initWithLatitude<span class="token punctuation">:</span>lat1 longitude<span class="token punctuation">:</span>lng1<span class="token punctuation">]</span><span class="token punctuation">;</span>    CLLocation <span class="token operator">*</span>otherLocation <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>CLLocation alloc<span class="token punctuation">]</span> initWithLatitude<span class="token punctuation">:</span>lat2 longitude<span class="token punctuation">:</span>lng2<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">double</span>  distance  <span class="token operator">=</span> <span class="token punctuation">[</span>curLocation distanceFromLocation<span class="token punctuation">:</span>otherLocation<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span>  distance<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>这里计算时间间隔和两个坐标点之间的距离，是为了过滤一些其他不必要的点，iOS采集坐标点跟安卓不一致，是在位置更新之后，会频繁的给出很多坐标点，并没有什么规律，这样还可以优化坐标点飘点的问题，因为高德在iOS上采用的是混合定位，采集方式不可修改，所以只能通过其他的方式去做筛选。尽可能的将异常的点排除掉。  </p><h5 id="在地图上添加自定义的大头针，以及标注图"><a href="#在地图上添加自定义的大头针，以及标注图" class="headerlink" title="在地图上添加自定义的大头针，以及标注图"></a>在地图上添加自定义的大头针，以及标注图</h5><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">/// 自定义用户位置样式</span><span class="token operator">-</span> <span class="token punctuation">(</span>MAAnnotationView <span class="token operator">*</span><span class="token punctuation">)</span>mapView<span class="token punctuation">:</span><span class="token punctuation">(</span>MAMapView <span class="token operator">*</span><span class="token punctuation">)</span>mapView viewForAnnotation<span class="token punctuation">:</span><span class="token punctuation">(</span>id<span class="token operator">&lt;</span>MAAnnotation<span class="token operator">></span><span class="token punctuation">)</span>annotation <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/* 自定义userLocation对应的annotationView. */</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>annotation isKindOfClass<span class="token punctuation">:</span><span class="token punctuation">[</span>MAUserLocation class<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">static</span> NSString <span class="token operator">*</span>userLocationStyleReuseIndetifier <span class="token operator">=</span> <span class="token string">@"userLocationStyleReuseIndetifier"</span><span class="token punctuation">;</span>        MAAnnotationView <span class="token operator">*</span>annotationView <span class="token operator">=</span> <span class="token punctuation">[</span>mapView dequeueReusableAnnotationViewWithIdentifier<span class="token punctuation">:</span>userLocationStyleReuseIndetifier<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>annotationView <span class="token operator">==</span> nil<span class="token punctuation">)</span><span class="token punctuation">{</span>            annotationView <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>LocationAnnotationView alloc<span class="token punctuation">]</span> initWithAnnotation<span class="token punctuation">:</span>annotation                                                                reuseIdentifier<span class="token punctuation">:</span>userLocationStyleReuseIndetifier<span class="token punctuation">]</span><span class="token punctuation">;</span>            annotationView<span class="token punctuation">.</span>canShowCallout <span class="token operator">=</span> YES<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        _locationAnnotationView <span class="token operator">=</span> <span class="token punctuation">(</span>LocationAnnotationView <span class="token operator">*</span><span class="token punctuation">)</span>annotationView<span class="token punctuation">;</span>        <span class="token punctuation">[</span>_locationAnnotationView updateImage<span class="token punctuation">:</span><span class="token punctuation">[</span>UIImage imageNamed<span class="token punctuation">:</span><span class="token string">@"userPosition"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> annotationView<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>annotation isKindOfClass<span class="token punctuation">:</span><span class="token punctuation">[</span>MAPointAnnotation class<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">static</span> NSString <span class="token operator">*</span>customReuseIndetifier <span class="token operator">=</span> <span class="token string">@"customReuseIndetifier"</span><span class="token punctuation">;</span>        FYCustomAnnotationView <span class="token operator">*</span>annotationView <span class="token operator">=</span> <span class="token punctuation">(</span>FYCustomAnnotationView<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">[</span>mapView dequeueReusableAnnotationViewWithIdentifier<span class="token punctuation">:</span>customReuseIndetifier<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>annotationView <span class="token operator">==</span> nil<span class="token punctuation">)</span><span class="token punctuation">{</span>            annotationView <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>FYCustomAnnotationView alloc<span class="token punctuation">]</span> initWithAnnotation<span class="token punctuation">:</span>annotation reuseIdentifier<span class="token punctuation">:</span>customReuseIndetifier<span class="token punctuation">]</span><span class="token punctuation">;</span>            annotationView<span class="token punctuation">.</span>canShowCallout <span class="token operator">=</span> NO<span class="token punctuation">;</span>            annotationView<span class="token punctuation">.</span>draggable <span class="token operator">=</span> YES<span class="token punctuation">;</span>            annotationView<span class="token punctuation">.</span>calloutOffset <span class="token operator">=</span> <span class="token function">CGPointMake</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        __weak <span class="token keyword">typeof</span><span class="token punctuation">(</span>annotationView<span class="token punctuation">)</span> weakAnnotationView <span class="token operator">=</span> annotationView<span class="token punctuation">;</span>        annotationView<span class="token punctuation">.</span>clickImage <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">{</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>        annotationView<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>annotation <span class="token operator">==</span> <span class="token keyword">self</span><span class="token punctuation">.</span>startAnnotation<span class="token operator">||</span>annotation <span class="token operator">==</span> <span class="token keyword">self</span><span class="token punctuation">.</span>trackStartAnnotation<span class="token punctuation">)</span> <span class="token punctuation">{</span>            annotationView<span class="token punctuation">.</span>image <span class="token operator">=</span> <span class="token punctuation">[</span>UIImage imageNamed<span class="token punctuation">:</span><span class="token string">@"qi"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>annotation <span class="token operator">==</span> <span class="token keyword">self</span><span class="token punctuation">.</span>trackEndAnnotation<span class="token punctuation">)</span><span class="token punctuation">{</span>            annotationView<span class="token punctuation">.</span>image <span class="token operator">=</span> <span class="token punctuation">[</span>UIImage imageNamed<span class="token punctuation">:</span><span class="token string">@"zhong"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            annotationView<span class="token punctuation">.</span>image <span class="token operator">=</span> <span class="token punctuation">[</span>UIImage imageNamed<span class="token punctuation">:</span><span class="token string">@"paizhaodian"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> annotationView<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> nil<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>在设置自定义的标注图的时候首先要继承MAAnnotationView<br>在.h文件中  </p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token macro property">#<span class="token directive keyword">import</span> &lt;MAMapKit/MAMapKit.h></span><span class="token macro property">#<span class="token directive keyword">import</span> "FYCustomCalloutView.h"</span>NS_ASSUME_NONNULL_BEGIN<span class="token keyword">@class</span> FYCustomAnnotationView<span class="token punctuation">;</span><span class="token keyword">@protocol</span> FYCustomAnnotationViewDelegate <span class="token operator">&lt;</span>NSObject<span class="token operator">></span><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>didClickDeleteAnnotationViewWith<span class="token punctuation">:</span><span class="token punctuation">(</span>FYCustomAnnotationView<span class="token operator">*</span><span class="token punctuation">)</span>annotationView<span class="token punctuation">;</span><span class="token keyword">@end</span><span class="token keyword">@interface</span> FYCustomAnnotationView <span class="token punctuation">:</span> MAAnnotationView<span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> strong<span class="token punctuation">)</span> FYCustomCalloutView <span class="token operator">*</span>calloutView<span class="token punctuation">;</span><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> copy<span class="token punctuation">)</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span>clickImage<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> copy<span class="token punctuation">)</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span>clickDeleteImageAction<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> weak<span class="token punctuation">)</span> id<span class="token operator">&lt;</span>FYCustomAnnotationViewDelegate<span class="token operator">></span>delegate<span class="token punctuation">;</span><span class="token keyword">@end</span>NS_ASSUME_NONNULL_END</code></pre><p>在.m文件中  </p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token macro property">#<span class="token directive keyword">import</span> "FYCustomAnnotationView.h"</span><span class="token keyword">@implementation</span> FYCustomAnnotationView<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>setSelected<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>selected animated<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>animated<span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>selected <span class="token operator">==</span> selected<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>selected<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>calloutView <span class="token operator">==</span> nil<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">self</span><span class="token punctuation">.</span>calloutView <span class="token operator">=</span> <span class="token punctuation">[</span>FYCustomCalloutView viewFromXib<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">.</span>alpha <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">.</span>frame <span class="token operator">=</span> <span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token function">CGPointMake</span><span class="token punctuation">(</span><span class="token function">CGRectGetWidth</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>bounds<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">.</span>f <span class="token operator">+</span> <span class="token keyword">self</span><span class="token punctuation">.</span>calloutOffset<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token function">CGRectGetHeight</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">.</span>bounds<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">.</span>f <span class="token operator">+</span> <span class="token keyword">self</span><span class="token punctuation">.</span>calloutOffset<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">.</span>userInteractionEnabled <span class="token operator">=</span> YES<span class="token punctuation">;</span>            <span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">.</span>photoImgView<span class="token punctuation">.</span>userInteractionEnabled <span class="token operator">=</span> YES<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">[</span><span class="token keyword">self</span> addSubview<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">[</span>UIView animateWithDuration<span class="token punctuation">:</span><span class="token number">0.3</span> animations<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>            <span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">.</span>alpha <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>calloutView removeFromSuperview<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token punctuation">[</span><span class="token keyword">super</span> setSelected<span class="token punctuation">:</span>selected animated<span class="token punctuation">:</span>animated<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/** 重写这个方法，可以让整个在父控件之外的气泡点击也有反应； */</span><span class="token operator">-</span> <span class="token punctuation">(</span>UIView <span class="token operator">*</span><span class="token punctuation">)</span>hitTest<span class="token punctuation">:</span><span class="token punctuation">(</span>CGPoint<span class="token punctuation">)</span>point withEvent<span class="token punctuation">:</span><span class="token punctuation">(</span>UIEvent <span class="token operator">*</span><span class="token punctuation">)</span>event <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 如果一个子视图的区域超出父视图的bounds，那么正常情况下对子视图在父视图之外区域的触摸操作是不会被识别的，因为父视图的pointInside:withEvent:方法会返回NO，这样的话就不会继续向下遍历子视图了；</span>    <span class="token comment" spellcheck="true">// 返回一个view来响应事件</span>    CGPoint point0 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span> convertPoint<span class="token punctuation">:</span>point toView<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">.</span>deleteButton<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">.</span>deleteButton pointInside<span class="token punctuation">:</span>point0 withEvent<span class="token punctuation">:</span>event<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>delegate <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>delegate respondsToSelector<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>didClickDeleteAnnotationViewWith<span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>delegate didClickDeleteAnnotationViewWith<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">.</span>deleteButton<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    CGPoint newPoint <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span> convertPoint<span class="token punctuation">:</span>point toView<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>calloutView pointInside<span class="token punctuation">:</span>newPoint withEvent<span class="token punctuation">:</span>event<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>clickImage<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">clickImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">.</span>calloutView<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">super</span> hitTest<span class="token punctuation">:</span>point withEvent<span class="token punctuation">:</span>event<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">@end</span></code></pre><p>标注图calloutView<br>.h文件中  </p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token keyword">@interface</span> FYCustomCalloutView <span class="token punctuation">:</span> UIView<span class="token keyword">@property</span> <span class="token punctuation">(</span>weak<span class="token punctuation">,</span> nonatomic<span class="token punctuation">)</span> IBOutlet UIImageView <span class="token operator">*</span>photoImgView<span class="token punctuation">;</span><span class="token keyword">@property</span> <span class="token punctuation">(</span>weak<span class="token punctuation">,</span> nonatomic<span class="token punctuation">)</span> IBOutlet UIButton <span class="token operator">*</span>deleteButton<span class="token punctuation">;</span><span class="token keyword">@end</span></code></pre><p>.m文件中不需要做其他的设置，然后添加坐标点就可以了  </p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 初始化地图上的照片</span>MAPointAnnotation <span class="token operator">*</span>pointAnnotation <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>MAPointAnnotation alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 创建位置数据</span>CLLocationCoordinate2D coordinate <span class="token operator">=</span> <span class="token function">CLLocationCoordinate2DMake</span><span class="token punctuation">(</span><span class="token punctuation">[</span>imageModel<span class="token punctuation">[</span><span class="token string">@"startLatitude"</span><span class="token punctuation">]</span> floatValue<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>imageModel<span class="token punctuation">[</span><span class="token string">@"startLongitude"</span><span class="token punctuation">]</span> floatValue<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pointAnnotation<span class="token punctuation">.</span>coordinate <span class="token operator">=</span> coordinate<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 添加到地图上</span><span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>mapView addAnnotation<span class="token punctuation">:</span>pointAnnotation<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>这样就可以添加了，另外添加起点和终点也是同样</p>]]></content>
      
      
      <categories>
          
          <category> iOS基础知识总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS基础知识总结 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>提高Xcode编译速度</title>
      <link href="/jackerchongchong.github.io/2019/11/26/macbase1/"/>
      <url>/jackerchongchong.github.io/2019/11/26/macbase1/</url>
      
        <content type="html"><![CDATA[<h4 id="提高Xcode编译速度"><a href="#提高Xcode编译速度" class="headerlink" title="提高Xcode编译速度"></a>提高Xcode编译速度</h4><p>最近在做公司项目的时候，由于工程比较大，引入的第三方比较多，所以项目编译速度很慢，就想办法优化。总结出几条建议，这里做一下记录，希望对大家有用。整体方法大致分为以下几种，如有不对的地方，敬请提出，欢迎指正。</p><h5 id="第一、通过CCache大幅提高编译速度（本人也是这样解决的）"><a href="#第一、通过CCache大幅提高编译速度（本人也是这样解决的）" class="headerlink" title="第一、通过CCache大幅提高编译速度（本人也是这样解决的）"></a>第一、通过CCache大幅提高编译速度（本人也是这样解决的）</h5><p>我也是借鉴别人的经验，尝试了很多的方法，但是这个方法最有效，起码节省了50%以上的编译时间（这个都有点保守了），废话不多说，直接上步骤</p><ol><li>安装之前，首先你的电脑上需要安装：Homebrew<br>安装Homebrew自行百度，安装过程中会安装Xcode的一个工具，保证磁盘空间足够，等待客户端安装完成</li><li>运行代码</li></ol><pre class=" language-objectivec"><code class="language-objectivec">$ brew install ccache</code></pre><p>cd到项目目录，执行以下命令新建一个文件命名为 ccache-clang 的空白文件。</p><pre class=" language-objectivec"><code class="language-objectivec">$ touch ccache<span class="token operator">-</span>clang</code></pre><p> 找到这个ccache-clang文件，输入下面的脚本并保存</p><pre class=" language-objectivec"><code class="language-objectivec">#<span class="token operator">!</span><span class="token operator">/</span>bin<span class="token operator">/</span>sh<span class="token keyword">if</span> type <span class="token operator">-</span>p ccache <span class="token operator">></span><span class="token operator">/</span>dev<span class="token operator">/</span>null <span class="token number">2</span><span class="token operator">></span><span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">;</span> then  export CCACHE_MAXSIZE<span class="token operator">=</span>10G  export CCACHE_CPP2<span class="token operator">=</span>true  export CCACHE_HARDLINK<span class="token operator">=</span>true  export CCACHE_SLOPPINESS<span class="token operator">=</span>file_macro<span class="token punctuation">,</span>time_macros<span class="token punctuation">,</span>include_file_mtime<span class="token punctuation">,</span>include_file_ctime<span class="token punctuation">,</span>file_stat_matches  # 指定日志文件路径到桌面，等下排查集成问题有用，集成成功后删除，否则很占磁盘空间  export CCACHE_LOGFILE<span class="token operator">=</span><span class="token string">'~/Desktop/CCache.log'</span>  exec ccache <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>clang <span class="token string">"$@"</span><span class="token keyword">else</span>  exec clang <span class="token string">"$@"</span>fi</code></pre><p>为了保证cocoaPods的正常使用，按照上面的命令再创建一个文件命名为 ccache-clang++ 的空白文件</p><pre class=" language-objectivec"><code class="language-objectivec">#<span class="token operator">!</span><span class="token operator">/</span>bin<span class="token operator">/</span>sh<span class="token keyword">if</span> type <span class="token operator">-</span>p ccache <span class="token operator">></span><span class="token operator">/</span>dev<span class="token operator">/</span>null <span class="token number">2</span><span class="token operator">></span><span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">;</span> then  export CCACHE_MAXSIZE<span class="token operator">=</span>10G  export CCACHE_CPP2<span class="token operator">=</span>true  export CCACHE_HARDLINK<span class="token operator">=</span>true  export CCACHE_SLOPPINESS<span class="token operator">=</span>file_macro<span class="token punctuation">,</span>time_macros<span class="token punctuation">,</span>include_file_mtime<span class="token punctuation">,</span>include_file_ctime<span class="token punctuation">,</span>file_stat_matches  # 指定日志文件路径到桌面，等下排查集成问题有用，集成成功后删除，否则很占磁盘空间  export CCACHE_LOGFILE<span class="token operator">=</span><span class="token string">'~/Desktop/CCache.log'</span>  exec ccache <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>clang<span class="token operator">++</span> <span class="token string">"$@"</span><span class="token keyword">else</span>  exec clang<span class="token operator">++</span> <span class="token string">"$@"</span>fi</code></pre><p>在命令行中， ccache-clang 文件的目录，把它的权限改成可执行文件</p><pre class=" language-objectivec"><code class="language-objectivec">$ chmod <span class="token number">777</span> ccache<span class="token operator">-</span>clang$ chmod <span class="token number">777</span> ccache<span class="token operator">-</span>clang<span class="token operator">++</span></code></pre><p>然后在Xcode项目中增加一个CC常量<br>   在你项目的构建设置(Build Settings)中，添加一个常量CC，这个值会让 Xcode 在编译时把执行路径的可执行文件当做 C 编译器。CC常量的值为 $(SRCROOT)/ccache-clang，如果你的脚本不是放在项目根目录，则自行调整路径。如果一运行项目就报错，检查下路径是不是填错了。</p><p>简单来说，这一步算是大功告成了，可以尝试一下，编译速度飞起</p><h5 id="第二、注意自己的代码编写习惯"><a href="#第二、注意自己的代码编写习惯" class="headerlink" title="第二、注意自己的代码编写习惯"></a>第二、注意自己的代码编写习惯</h5><p>这一条也很重要，就是在项目中的.h中，自定义的类，尽量使用@class name 这样在项目编译期间，知道这个类，然后在.m文件中再import</p><blockquote><p>我也尝试了其他几种方法，一个是开启Xcode的线程数量，还有将Index索引这一步去掉，以及关闭执行日志，感觉都不是很好，希望这个方法对大家有帮助</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Mac使用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac使用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AFN表单上传图片</title>
      <link href="/jackerchongchong.github.io/2019/08/26/iosbase3/"/>
      <url>/jackerchongchong.github.io/2019/08/26/iosbase3/</url>
      
        <content type="html"><![CDATA[<h3 id="AFN表单上传图片"><a href="#AFN表单上传图片" class="headerlink" title="AFN表单上传图片"></a>AFN表单上传图片</h3><p>今天在做项目上传图片的时候，用到了formData上传图片，遇到了问题，很奇怪的问题。需求是这样的：<br>上传图片，首先压缩一定的比例，然后转成base64格式的data，传给后台参数是这样的：img_base64:imageData  </p><ul><li><p>在postMan中的请求是这样的：<br><img src="data:image/png;base64,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eG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjk0NzwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4yNDM8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4Kk8fv2gAAQABJREFUeAHsnQecFEXah9/ZwBIlKGJETAgmVMwRRcV46nmmM55+p2c405nOO3O688z5xJxzPHPGnDMKGBARAZGclg3z1VNrDb3DzOwMM7s7w/5ffrMz011dXf10dVH/et+qic2bNy9uMhEQAREQAREQAREQAREQAREQAREoIQJlJVRWFVUEREAEREAEREAEREAEREAEREAEPAGJWVUEERABERABERABERABERABERCBkiMgMVtyt0wFFgEREAEREAEREAEREAEREAERkJhVHRABERABERABERABERABERABESg5AhKzJXfLVGAREAEREAEREAEREAEREAEREAGJWdUBERABERABERABERABERABERCBkiNQka7EkydPtmnTpllNTU26JNouAiIgAiIgAiIgAiIgAiLQQgQqKyuta9eu1qNHj6zPOH5GvZ35YrW9/G2d/TJLv8gJuPicKRbr0D1rhoVI+McBlXbRDlXWrX0sq+zq6+uturraamtrLR4vzfs2ZcoU6969eTmnFLMI2YqKCv+glCq8rGrJIp4oFosZr/Hjx9tSSy21iF+tLk8EREAEREAEREAE2gaBkSNHWt++fbO62L8/V22PfFmbVVolaj4C93xaY0jSG3Zvn9VJ5s6d64VsVonbcKKUYhaPbBjxYQQIQSQrLQIMQpTySE5p0VZpRUAEREAEREAERKA4Cbz4jYRssdyZp0dkfy/ox8uaJpByziyhxYghvLMSsk1DLMYU3DfunzzrxXh3VCYREAEREAEREAERaBkC06tb5jw6S9MEps0tzXDhpq+s9VKkFLOhOBKygURpvuv+leZ9U6lFQAREQAREQAREQAREQASaJpBRzDZ9uFKIgAiIgAiIgAiIgAiIgAiIgAiIQMsTkJhteeY6owiIgAiIgAiIgAiIgAiIgAiIQJ4EJGbzBKjDRUAEREAEREAEREAEREAEREAEWp6AxGzLM9cZRUAEREAEREAEREAEREAEREAE8iQgMZsnQB0uAiIgAiIgAiIgAiIgAiIgAiLQ8gQkZlueuc4oAiIgAiIgAiIgAiIgAiIgAiKQJwGJ2TwB6nAREAEREAEREAEREAEREAEREIGWJyAx2/LMdUYREAEREAEREAEREAEREAEREIE8CUjM5glQh4uACIiACIiACIiACIiACIiACLQ8AYnZlmdeEmd8+umni7KcdXV1Vltb2yxlmz17dsZ8q6urLR6PZ0yTbifH1dTUpNw9Z86clNuTN5LHvHnzkjf77+RdX1+fcl90Y6Z0XF86tuxLZ5R/YbmQ55QpU+ytt95Kl32b2P7rr7+2ievURYqACIiACIiACIhAIQlUFDKzbPKis0zHuFOnTmmTz50719q3b592v3Y0P4Enn3zSdtppp5Qnmjp1qhcv3bt39/sRUWPGjLE+ffqkTJ/NRsTMqFGj7OCDD/bJ6dxfdtlldsEFFyQO5zz//ve/bbnllrODDjrIXnvtNXviiScS+/kwc+ZM+9vf/mZ9+/ZttJ0v77//vt1222126qmnWu/evRP7v/rqK7vrrrusc+fOXswdccQRtuSSSyb28+HTTz+1q6++2i655BLr1q1bo33hS7r8n3rqKfvoo498smWWWcb+9Kc/WVlZmb366qv20ksv+fPyTKyxxhq25557huwavT/yyCM2YsQIq6iosMrKSjvkkEN8ORC3Q4cONYQ4zxb5B4bRDDKlQ+DecsstNmHCBJ/H+uuvb7/73e/84WPHjrX777/f32/KuMkmm9g222zj93GPbrjhBovFYjZr1izbe++9bcCAAdHT2umnn24nn3yyhbrSaOdvXxCzb775pm266aapdme97fvvv7cVV1xxgfTZlGGBg1pwAwMB1HPqNvdWJgIiIAIiIALFTqBzO7O5zrdQ2/Q4et6Xsuda7Wyn1drZsU/MtFmpx/TzPseikAH9ufLyct/HXBSuJ9trKJiYPemkk2zSpEm+Y0tnf5111rH999/fd74pDGLnzjvvtO+++87wri222GJeLG2//fYJ6Pfcc4998MEHNnnyZN8p32GHHaxDhw527bXXprwexE6PHj1S7tPG5iMwbNgwW3bZZW3gwIH+JIjQDz/8MGsxS+cdARS1d999t5F45vtGG20UTWLPP/+8Lb744oltW221lfEKNmPGDDvvvPNSChrE4M8//+yFcEjPOwIZgXvCCSfYUkstZV988YWvpwjiYAg1zr388suHTQu8p8sfMTh8+HA77bTTvFAh3TPPPGM777yzL+c//vEPP3BDOc4880x/zYj1qP30008+j3/+859+83PPPWcvv/yy/f73v7c33njDevbs6YUkO6+66ir78ssvvTDme2CdKR1Csl27dv78lOM///mP9e/f31ZddVVjUGPbbbf1IhVBHMrIYNRDDz1kW2+9tRehDHBcdNFF1q9fP6uqquLU9u2333oRm0nI+oQF+EPZaD/gGbWWLEP0vLl85lm49NJLF3gmcslDaUVABERABESgJQjsO6CdHTSwvW22QoXVuWC1j3+qtevemWsPf958KnPdZSpsv3Xa2UlPucFzW7gIuZZg01rnwNmBY2bcuHFeU9EvXHvttX0/rrXK1JLnLZiYpdBbbLGF79yOHDnSe3PoEG+44YbeW/avf/3LCwm8JAhZxM8DDzzgrxXR+vXXX9sLL7xgRx99tBey5IH3jBtCBxq78cYbfR7BY0g+suYhgOcQbynCi1EevGYMPLz99tuGmMKLidDZfffdvYhATHDPuJd4BzkWYcR9xsv+xz/+MSGwGIRYd911Ex6+adOmea8g4ikYYvbII48MX/0DysO6+eabe7GW2BH5gKcWz2Eq7xbCmHIh1KKGN48BEYQstuaaa9qtt97q6yzXiN13333eU3nvvff676n+pMufwZn11lsvUSbE90033eTF7AorrJDICt5wThVyjMc1GsYbHQhIDguO7vvf//5nP/74o+eYKd3HH3/s7xuFoRxcC/eN+xE9jn1h1I/yIPzxMmMMYK200kpedHNvMe4hzz+GF5pjPvnkE/vhhx/8veBYnu9kwxOM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pJpLyM6/kkXnE4PoydOhole3sJFrIQ+8tdlE1oX0Lfnuxj1kIiACIiACIiACIiACIiACIiACIlBaBCRmS+t+qbQiIAIiIAIiIAIiIAIiIAIiIAKOgMSsqoEIiIAIiIAIiIAIiIAIiIAIiEDJEZCYLblbpgKLgAiIgAiIgAiIgAiIgAiIgAhIzKoOiIAIiIAIiIAIiIAIiIAIiIAIlBwBidmSu2UqsAiIgAiIgAiIgAiIgAiIgAiIgMSs6oAIiIAIiIAIiIAIiIAIiIAIiEDJEZCYLblbpgKLgAiIgAiIgAiIgAiIgAiIgAhkFLPxeOYfRBa+4iag+1fc90elEwEREAEREAEREAEREAERWHgCKcVsZWWlxWIxq62tNQmihYfbmkdy37h/3EeZCIiACIiACIiACIhA2ySwWFXbvO5ivOrFqtQvL/R9qUiVYdeuXb0IQhDV1NSkSqJtJUAAISsxWwI3SkUUAREQAREQAREQgWYisO0qFfbIl7XNlLuyzYXAzv1SSq+UWVRUVHjHVMqd2pggkJJojx49bPLkyTZt2jSJ2QSq0v4wfvz40r4AlV4EREAEREAEREAERCBnAhcNqbLKcrOXv62zX2ZpCmHOAAt0wH4DKu1fO2TvJm/fvr1VV1crUrYJ/rF58+apVjcBSbtFQAREQAREQAREQAREQAREQASKi0DKObPFVUSVRgREQAREQAREQAREQAREQAREQAQaE5CYbcxD30RABERABERABERABERABERABEqAgMRsCdwkFVEEREAEREAEREAEREAEREAERKAxAYnZxjz0TQREQAREQAREQAREQAREQAREoAQISMyWwE1SEUVABERABERABERABERABERABBoTkJhtzEPfREAEREAEREAEREAEREAEREAESoCAxGwJ3CQVUQREQAREQAREQAREQAREQAREoDEBidnGPPRNBERABERABERABERABERABESgBAhIzJbATVIRRUAEREAEREAEREAEREAEREAEGhOomDp1auMt+iYCIiACIiACIiACIiACIiACIiACRU4gNm/evHiRl1HFEwEREAEREAEREAEREAEREAEREIFGBBRm3AiHvoiACIiACIiACIiACIiACIiACJQCAYnZUrhLKqMIiIAIiIAIiIAIiIAIiIAIiEAjAhKzjXDoiwiIgAiIgAiIgAiIgAiIgAiIQCkQkJgthbukMoqACIiACIiACIiACIiACIiACDQiIDHbCIe+iIAIiIAIiIAIiIAIiIAIiIAIlAIBidlSuEsqowiIgAiIgAiIgAiIgAiIgAiIQCMCErONcOiLCIiACIiACIiACIiACIiACIhAKRCQmC2Fu6QyioAIiIAIiIAIiIAIiIAIiIAINCIgMdsIh76IgAiIgAiIgAiIgAiIgAiIgAiUAgGJ2VK4SyqjCIiACIiACIiACIiACIiACIhAIwISs41w6IsIiIAIiIAIiIAIiIAIiIAIiEApEJCYLYW7pDKKgAiIgAiIgAiIgAiIgAiIgAg0IiAx2wiHvoiACIiACIiACIiACIiACIiACJQCAYnZUrhLKqMIiIAIiIAIiIAIiIAIiIAIiEAjAhKzjXDoiwiIgAiIgAiIgAiIgAiIgAiIQCkQkJgthbukMoqACIiACIiACIiACIiACIiACDQiIDHbCEdhvsTjceOVj/366682adKkfLJodOzs2bMbfc/nC9c2Z86cfLJoE8fOmzfPvv/++zZxrblc5HfffWeffPJJLocobYkSqK+vN14LY2pnFoaajhEBERABERCBtkWgIpfLfemll6ympsYLtfLycuvdu7f169cvlyzaRNrPP//c5s6daxtuuGHW10t6Om8dOnTwxyBm6QQuscQSWeeRKeGrr75qO+ywg5WV5T5+QbmmTZtm3bp186eYOnWqffnll7b55ptnOmXR7vvss8+sU6dOtvLKKyfKSL1+7rnnbJdddklsy/dDdXW1IdxWXHHFfLNq9eNvueUWe/PNNz03BjJ69uxpBx98sK222mo5lw0mY8aMsXXWWSfnY4vxAAYtnnrqKc+mtrbWqqqqPJfllluuGItbsDIlt1nRjKn7H3/8sc2cOdO3YxUVFbbxxhtbx44do8kyfs6lnclUlownKeDOsWPH2hdffOFzpE7wfyQvbPvtt8+57U1ud31G+iMCIiACxUagptqs3MmJsob2Lp/i1b54t1Vsu/8CWcSnTbJYZ9cH5TwtZXOdE6h99v9nRYsVnzXd6j991co3/V10c+E+19W2LIvClbywOcEhVmY514pNN93UFltsMd9Jeeutt3znBFErayCAAP3ll198J4YOTbt27bJCgwcPrssuu2xW6XNNtNNOO+V6SCI9wvqnn35KiNnu3buXrJBNXJQ+5Exgr732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lkrUR/fDKhOTaNpMn5k7nMooV0sLWcqBpzgXIcsxlDPK0Xnx0wlZn9x5s42fEPICli3OqGNEmrkQpoKFGTfkrL8iIAIiIAIiIAIiIAIiIAIiIAIi0LwE5JltXr7KXQREQAREQAREQAREQAREQAREoBkISMw2A1RlKQIiIAIiIAIiIAIiIAIiIAIi0LwEJGabl69yFwEREAEREAEREAEREAEREAERaAYCErPNAFVZioAIiIAIiIAIiIAIiIAIiIAINC8Bidnm5avcRUAEREAEREAEREAEREAEREAEmoGAxGwzQFWWIiACIiACIiACIiACIiACIiACzUvA/aiPTAREYFEnMPeEQYv6JeZ1fe0vfzWv43WwCIiACIiACIiACIhAyxOQZ7blmeuMIiACIiACIiACIiACIiACIiACeRKQmM0ToA4XAREQAREQAREQAREQAREQARFoeQKxiRMnxlv+tDqjCIiACIiACIiACIiACIiACIiACCw8gVjc2cIfriNFQAREQAREQAREQAREQAREQAREoOUJKMy45ZnrjCIgAiIgAiIgAiIgAiIgAiIgAnkSkJjNE6AOFwEREAEREAEREAEREAEREAERaHkCErMtz1xnFAEREAEREAEREAEREAEREAERyJOAxGyeAHW4CIiACIiACIiACIiACIiACIhAyxOQmG155jqjCIiACIiACIiACIiACIiACIhAngQkZvMEqMNFQAREQAREQAREQAREQAREQARanoDEbMsz1xlFQAREQAREQAREQAREQAREQATyJCAxmydAHS4CIiACIiACIiACIiACIiACItDyBCRmW565zigCIiACIiACIiACIiACIiACIpAnAYnZPAHqcBEQAREQAREQAREQAREQAREQgZYnIDHb8sx1RhEQAREQAREQAREQAREQAREQgTwJSMzmCVCHi4AIiIAIiIAIiIAIiIAIiIAItDyBikKdcvz48cZr5syZPsvOnTvbUkst5V+FOkcp5MP1jx071nPgMxx4Lbfccv69FK6h1Mqouldqd0zlhUBbqbdt5TpVq0VABERABERABFqeQCzuLJ/T1tbW2hdffGFTp05NmU23bt1szTXXtIqKgunmlOcpho2jR482XumsT58+xiudwfLDDz+0MWPG2DbbbGOLL754uqTNvv2dd97xAhwRXqzW1ureiBEj7JNPPrF1113X+vbtW6y3xb7++murq6uzNdZYo1XLOGPGDHvrrbdsyJAhOZVjYY/L9iRtpd7me52//vqrffbZZ7b11lunRDtlyhTr0qVLm/i/JSUAbRQBERABERABEbC8wozprNC5Tidk4cs+0pB2UTY68JmELNfOftKlszvuuMO+/PJLW2211axjx47pkrXIdkTAjz/+2OS5uKbWuLdtre699957ds8999jqq69uiy22WJP3pTUTDB8+3D7//PPWLII/N6L06aefzrkcC3tcNidqK/W2ENeJmH3ppZfSYr3uuuuMAR6ZCIiACIiACIhA2yWQl5iNhhVnQki47aRJkzIlKel9XB8sgnUb95X1f+EaG/jQP2zNp/9jywx/OexqFIqd2PjbB7yye+yxh6299trWoUOH5N1F+f3mm2+2OXPmtHjZ2lrdo25su+22ttZaa7W50P0Wr1zNeMK2Um9b4jpPP/30Vvf+N2NVUdYiIAIiIAIiIAJZECg/21kW6VIm+fbbb626ujrlvuSNNTU1tvTSSydv9t//+c9/WiwWs0suucSeffZZn2f//v39vrlz59oNN9zgX0899ZTfhucSI+2oUaPsgQcesNtuu817PQnjDZ4rOlT/+te/7Pbbb7ePPvrIC4FOnTr5Ywv557vvvkvMFUbIrvzWXVZZ3TB3uKJmrnX55XuLuX8zeq7oT1tfX29LLLFEoggwvOyyy3z5P/74Yy94CSXlM+W/99577dNPP/VeuVD+s846y4chn3feeTZy5EjbeOONDY54RP7zn//Y//73P78fz4ay0noAADQHSURBVMWll15qL7zwgvf2rrDCConzRj9wDeTFufhMmGjv3r1t+eWXt2+++cYuvvhi7xnEy85caMo/dOhQH8b5/vvv2+uvv+7FVrq00XMV4nMh6t7bb79tDz/8sGdHmV588UV79dVXfRhvtIzUS0K+uWa4HHfccdarVy9bZpllfLKTTz7Zpk2bZpQp1M0rr7zSc0R8YrDi3sBxu+22s7KyMp/+73//uw0aNMiqqqr8fefeJYdV4pHFQ4VXnzIPHjw4kfbWW2+11157zZeFMmFXXXWV9ejRw993no1dd911oevGvHnz7MQTT7Qdd9zR582fW265xajDXD/PIM/ZY489Zlwz9fCnn37ynJhegD3yyCN2+eWX2+OPP+6/B0aUk3yuuOIKe+ihh+zn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wkXDAA0DNjxPLCJHfjAjXJxXpuNSlS3fbfnW21TnZ248q0IjYplKEPWEw4JnljrIs41R5xjIaY72MJSvENfJIm0s2MRgCOHBPFvU+VyM5wpPNO0cUQ3hec+UB3XnmmuuMRZdk4mACIiACIiACBQvgZjzUMQLUTxGu/HaBG8Hgo3O68J6ZJPLRAeNn9EInbHk/Zm+UyaOozPTnIaY5ZXOELK8cjU8LdnMs8013+T0VAW834QjJhuLDiFkUvHH28b+cFymtMn5FuJ7c9e9QpSxufLAc0moeK4d/IUpD3WDcy2MMRDCc4igis71bSovBqE4NvnZzdQeUE4Gs2gvUhkDb9RVRF7UmjoumrYQn5uj3lIfwnNYiDIWIo9CXCfXRR3Ipe5Ey46nnnYpuR5F00Q/ExXAiwFRmQiIgAiIgAiIQPESKJiYLd5LbNmS0WEnNA5PQhChdODxtGbjkW3Z0upsIiACIiACUQIMdrBQGEKWCAyZCIiACIiACIhA8RKQmC3ee6OSiYAIiIAItCAB5s2zMBaLsEUXVGvBIuhUIiACIiACIiACORCQmM0BlpKKgAiIgAiIgAiIgAiIgAiIgAgUB4G8VjMujktQKURABERABERABERABERABERABNoaAYnZtnbHdb0iIAIiIAIiIAIiIAIiIAIisAgQkJhdBG6iLkEEREAEREAEREAEREAEREAE2hoBidm2dsd1vSIgAiIgAiIgAiIgAiIgAiKwCBCQmF0EbqIuQQREQAREQAREQAREQAREQATaGgGJ2bZ2x3W9IiACIiACIiACIiACIiACIrAIEJCYXQRuoi5BBERABERABERABERABERABNoaAYnZtnbHdb0iIAIiIAIiIAIiIAIiIAIisAgQkJhdBG6iLkEEREAEREAEREAEREAEREAE2hoBidm2dsd1vSIgAiIgAiIgAiIgAiIgAiKwCBCo+OWXXxaBy9AliIAIiIAIiIAIiIAIiIAIiIAItCUCsbizYrjgZFHds2fPYiiWyiACIiACORMI7ZnasZzR6QAREIEiIKA2rAhugoogAiKQFQGFGWeFSYlEQAREQAREQAREQAREQAREQASKiYDEbDHdDZVFBERABERABERABERABERABEQgKwISs1lhUiIREAEREAEREAEREAEREAEREIFiIiAxW0x3Q2URAREQAREQAREQAREQAREoCQJhfnlJFHYRLaTE7CJ6Y3VZIiACIiACIiACIiACIiACIrAoE5CYXZTvrq5NBERABERABERABERABERABBZRAhKzi+iN1WWJgAiIgAiIgAiIgAiIgAi0LQJtLfRZYrZt1W9drQiIgAiIgAiIgAiIgAiIgAgsEgQkZheJ26iLEAEREAEREAEREAEREAEREIG2RUBitm3db12tCIiACIiACIiACIiACIiACORNoPaD5y0+ebzPp+HzhLzzDBnU/zjC6r56t+FrfZ3Fp00Kuxq9VzT6VuRf6uvrbeLEibbYYotZx44dra6uzogL79Spk1VWVtrUqVMTV9CuXTuLxWI2b94869Wrl99eW1trkyZNShyfSKwPIiACItACBGbNmmUzZszwbRLtE8Z3ti+11FL++7Rp04xXjx49rHPnzn5bctvnN7o/s2fPtunTp9uSSy5pZWVlFo/HbcKECdalSxffLtI+0k4GI0/aRpkIiIAI5EMgtC30vbp37+7bn5Af7decOXPCV98W0SZhbB83bpwts8wy1qFDh0Qa2rixY8faEkss4ft3oc0jQXK7NXfuXN/fIy3tHv1CLPQN+RzaVT4Hq6io8HlF+5HsC+eiHU4uV7jO0MaSnm2UPbTPbJOJQCkTmHXhgRafPdOs3MnCeXOsvHd/a3/A6Rbr0r3Jy5r37rNW1XUJK++xlPnP3Xq5zw26K9XB8VnTbeZpO1msa8/E7orV1rf2B/4j8T18qBvztdWN+87K+29k9WNH2dzHrrOOx17ld9eNHm7lfVb3n0tKzNJAHnnkkXbEEUfY9ttvb1deeaV98skn9u9//9u++eYbu+yyy3ynjgZr5ZVXtrXWWsuuu+46O++882zNNde0hx56yL+uuuoq31gGWHoXAREQgZYgMGLECN8eXXDBBbb66g2N8MUXX2zV1dXGO0a79tlnn9nWW29tRx99tN8Wbft22GEHv40/b7zxhl1//fV200032eKLL+7zoY086KCDbI899rCzzz7bJk+e7DtwpD/22GNttdVW46NMBERABBaaQGhbEHUIxy233NL+9Kc/eYF3zz332IsvvpgYoNtxxx1tl112sf/+97/2zjvv+DQIx0svvdS6du1qDz74oD355JNWVVXlnRCk32abbXx/j/0I5p49e9qf//xnW3HFFe3999/3/b2rr77aC2XaPNLR90N0Hn74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LEpDn0VABIqZgDyzxXx3VDYREAEREAEREAEREAEREAEREIGUBCpSbtVGERABERCBghIIno6CZqrMREAERKBABBRJUiCQykYERKBFCUjMtihunUwERKAtE9DPj7Xlu69rF4HiJaBftijee6OSiYAIZCagMOPMfLRXBERABERABERABERABERABESgCAlIzBbhTVGRREAEREAEREAEREAEREAEREAEMhPIO8x4woQJ5lZEti5dumQ+U9LeadOmWfv27a1Xr15Je/RVBERABBZ9AnvssYc9+uiji/6F6gpFQAREQAREQAREoJkI5CVmEbLvvvuuDR061H744YecirjCCivYkUceaQMHDpSgzYmcEouACIiACIiACIiACIiACIiACOQVZoxHdmGELNgRv9dff7336uo2iIAIiIAIiIAIiIAIiIAIiIAIiEAuBPISs4QW5+qRjRaOY3MNTw7Ht9TKe2+88Ya11LnCtcXjcZs+fbrV19eHTYl3tjGIIBMBERABERABERABERABERCBtkSAnzp8//33E5dc8frrrye+ZPqw5JJL2mqrrZYpSZP7EK677767PfbYYzZjxowm06dLgNg7/fTT7brrrrPKysp0yQqyfdiwYda9e3driZ/UmDlzpvd0T5o0yTp27Gg77rijrbfeeo2u4+6777YPP/zQrrjiikbb9UUEFhUCY8eOtS+++MJfDgM35eXl/sWG7bff3srKch+Dmzt3rtFudOjQYVHBpOsQAREQAREQAREQgTZHYMyYMfbCCy8Y01132WUXy1rMVlVV5SVmEbK333679e/f31j45Pe///1Cw4/FYnbjjTca74uSXXrppbb11lvblltumfKyRo4caZMnT065TxtFYFEhsNxyyxkvjDn5yy+/vC2zzDJ5Xd73339viy22mC277LJ55aODRUAEREAEREAEREAEWo/A2muv7SODP/vsM1+Iiv333z+r0nTt2jWrdKkSRYUs+0eMGJEqWU7bTjjhhIR38uyzz7bNN9/cHn/8cZ8H1zR79mx74oknrKKiwnuD2Y9999133jM8fvx4wxPauXNn22mnnWzQoEF+f6o/dIQR4qzAvM4669hhhx1m7dq1895l5v2yHz5DhgzxYpQ83nzzTXvmmWe8+KQD/Ze//MUWX3xx47w33HCD4X2ik37UUUd5ry951NTUpBWyeKjuvPNOv2jWxRdfnKqY2iYCbYJAbW2tffLJJz78n8iMAQMG+Gfop59+sp9//tnWX399z4FpDITrd+vWzb755hv/zH799de24YYbNpre8OSTT9rnn3+ekt1aa61lu+66a8p92igCIiACIiACIiACItDyBELfDEFbwarCzWnJQpYQ47///e95nzI6j3XUqFHec/Pvf//bvv32W7vooot8h/Xcc8814qr5HsTsgw8+aL/73e+8h/iRRx7xYjOTkKWgb7/9tv31r3/1ob8seIVQxYPaqVMn22677WyNNdbw5znjjDNsq622MjrbnOf888/3x4wePdp69Ojhr/nWW2/1ghXvK51ofprj8MMP9+VeddVV7dlnn/WCe6ONNrJ11103EVJ533332Q477ODFd97wlIEIlDABBqQYpOLZ4/lG2G677bbe68o+RC0DRwya8ZzxE2AMIuHdTeWZpUEkVGXixImNqDC1IjSWjXboiwiIgAiIgAiIgAiIQKsSCH20MubMZvNqypt6zDHH2Isvvtios9hcQjYVuW222cYLRzwpzIvjO2GFvXv39tvHjRvnD8Mzs+KKK/rPK620kvfcpMovuo15enhR6SAPHjzYglubuXsITry0eHiZW/vjjz/6+X3M0fv0008T5yEkGu8qIhyhyufNNtvMz39lLt+UKVPsgw8+8HOAKfsrr7xiDz/8sD+eMtPRJr1MBNo6AZ4Fnl2emxAxggcWY4758OHD7eOPP7Z+/fp5IZsNrwMOOMCYShGMz2yTiYAIiIAIiIAIiIAIFC+Bgs2ZPeigg3zo3tVXX20HH3ywv+IwR5YvhfLIpkPZp0+fxC48MYjPYHRMEY8Ycdb33HOPbbDBBvbUU0/5BWVCunTvhCkGw5N9xx13+K90qh966CHv9cFLi1Ctq6vzYvYf//iHsVgT+w855BAfCsmc119//dXOO++8kJ0XwCyGxXGEPyKWsSWWWMJ7lHfbbTe77bbb7OSTT/addzrwGO+L2pxhf2H6IwIZCLCaN88Qi6AFY4GoOXPm+MErnkMWa+PZZCArW6PNQLzefPPN/hA+s00mAiIgAiIgAiIgAiJQfATCNLGCzZlFzCLyWOAJDy0CLYT0NbeQBS9hh1FLJ/RYfArBjdeYDms2YdbMvw1GuGIQyg888ID17dvXz3tl/7HHHhuS+TSnnXaaIWAvv/xy4zOdY7zGhD0nlw+vL/P9grGaMd5dwibxKjNHGEPEVldX+wGDyy67zIvecIzeRWBRJ0A0BM8Og1FEQyTbrFmzvJBF1BIlEZ7V5HSpvvfq1cuvisc+PstEQAREQAREQAREQASKj0AQskTkFmzOLKGwiLQLL7zQe0gI8cWuvfZau+aaa4qGwvPPP+9/8oZ5snh0srG33nrLBg4c6NO/8847BjiMpaH5+RyM60foYsyZxYNE+DFil7mwhEHy00Z0xMljk0028WkR/QhrFq0588wz/WJVsGOeLuckVDJ4gjmAfEinn+bx+PSnDRJAaLJgGnPVEbcsnMZgFs/WRx995LczR53pE0Q4MICEuI0OSqXDRuSGTAREQAREQAREQAREoDgJvPfee37hzrBIZ9Zhxtn8ziyLGWEIWozfgg3b/IYi+ENH+K677vKLLxF6vMoqq9hxxx23gGc3WlTm5+EZpeNMyPE+++zjd7OQFGIdjyud54033thvp9PMisOENxM+TIc6CODjjz/eWAH53nvv9Z1w5u+ecsopPtx433339czwOFFOvstEQAQaE0BwIlpZLI0BI54x5pmzejHPXIgIYfCIxaEYOOKnfviBbcKPeRbDYFvjnPVNBERABERABERABESgmAkExwPTM7HY2Wef3TAJs4lS00n829/+1igVK4mm+k3U8NMXL730UqP0qb4MGzbMC0Tyilp0nmp0ez6fmWf32muvefEavLKEHOMVDZ7SdPnjaSXsl/DfqLEdUZxqfh3p6WwjgpONnwXCm5R8XAgjTt6efLy+i0BbJ4CI5cUzlq3xrOaSPtt8k9OF9izajrGN+bzBmPJQbIN9oWx6FwERaFsEWPMjub2CQHRb2yKiqxUBESgVAgWbMxu9YNy/xWgITwzByIs5qqzSzDxfflYn2fDY4lXFEKTJQjZsTyc8023nuFTz/dhOqGSm40gjEwERMB/2HwalsuXREkI227IonQiIgAiIgAiIgAiIQH4E8pozO23aNL+AEuF9C2MsvsSc0ZYa+WPRmLFjx9oll1zi57USjnjYYYf5n9fhdyplIiACIiACIiACIiACIiACIiACpUGg8RLAOZYZD+Kf//xnGzp0qJ+vlsvhCNm//OUvLRLyFy0XoX0yERABERABERABERABERABERCB0iYQc3PIspozm+4yJ0yY4OeMsiJvLoZXFzEcfgIjzDELebSU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" alt="postman截图">   </p></li><li><p>在代码中，我们需要这样做，图片转码代码如下：</p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 压缩图片质量</span>NSData <span class="token operator">*</span>data <span class="token operator">=</span> <span class="token function">UIImageJPEGRepresentation</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 图片转码</span>NSData <span class="token operator">*</span>dataImg <span class="token operator">=</span> <span class="token punctuation">[</span>data base64EncodedDataWithOptions<span class="token punctuation">:</span>NSDataBase64Encoding64CharacterLineLength<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li><p>算了，直接撸代码  </p><pre class=" language-objectivec"><code class="language-objectivec">        <span class="token comment" spellcheck="true">// 1、创建请求管理者</span>      AFHTTPSessionManager <span class="token operator">*</span>mgr <span class="token operator">=</span> <span class="token punctuation">[</span>AFHTTPSessionManager manager<span class="token punctuation">]</span><span class="token punctuation">;</span>      mgr<span class="token punctuation">.</span>responseSerializer <span class="token operator">=</span> <span class="token punctuation">[</span>AFHTTPResponseSerializer serializer<span class="token punctuation">]</span><span class="token punctuation">;</span>      mgr<span class="token punctuation">.</span>requestSerializer <span class="token operator">=</span> <span class="token punctuation">[</span>AFHTTPRequestSerializer serializer<span class="token punctuation">]</span><span class="token punctuation">;</span>      AFSecurityPolicy <span class="token operator">*</span>securityPolicy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>AFSecurityPolicy alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">[</span>securityPolicy setAllowInvalidCertificates<span class="token punctuation">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">[</span>mgr setSecurityPolicy<span class="token punctuation">:</span>securityPolicy<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">[</span>mgr<span class="token punctuation">.</span>requestSerializer setValue<span class="token punctuation">:</span><span class="token string">@"application/x-www-form-urlencoded; charset=utf-8"</span> forHTTPHeaderField<span class="token punctuation">:</span><span class="token string">@"Content-Type"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">[</span>mgr<span class="token punctuation">.</span>requestSerializer willChangeValueForKey<span class="token punctuation">:</span><span class="token string">@"timeoutInterval"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      mgr<span class="token punctuation">.</span>requestSerializer<span class="token punctuation">.</span>timeoutInterval <span class="token operator">=</span> <span class="token number">15.0f</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 默认超时时长为60s</span>      <span class="token punctuation">[</span>mgr<span class="token punctuation">.</span>requestSerializer didChangeValueForKey<span class="token punctuation">:</span><span class="token string">@"timeoutInterval"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      mgr<span class="token punctuation">.</span>responseSerializer<span class="token punctuation">.</span>acceptableContentTypes <span class="token operator">=</span> <span class="token punctuation">[</span>NSSet setWithObjects<span class="token punctuation">:</span><span class="token string">@"text/plain"</span><span class="token punctuation">,</span> <span class="token string">@"multipart/form-data"</span><span class="token punctuation">,</span> <span class="token string">@"application/json"</span><span class="token punctuation">,</span> <span class="token string">@"text/html"</span><span class="token punctuation">,</span> <span class="token string">@"image/jpeg"</span><span class="token punctuation">,</span> <span class="token string">@"image/png"</span><span class="token punctuation">,</span> <span class="token string">@"application/octet-stream"</span><span class="token punctuation">,</span> <span class="token string">@"text/json"</span><span class="token punctuation">,</span> nil<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">[</span>mgr POST<span class="token punctuation">:</span>URL parameters<span class="token punctuation">:</span>nil constructingBodyWithBlock<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>id<span class="token operator">&lt;</span>AFMultipartFormData<span class="token operator">></span>  _Nonnull formData<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token comment" spellcheck="true">// 参数名：img_base64 ：dataImg</span>          <span class="token punctuation">[</span>formData appendPartWithFormData<span class="token punctuation">:</span>dataImg name<span class="token punctuation">:</span><span class="token string">@"img_base64"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> progress<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSProgress <span class="token operator">*</span> _Nonnull uploadProgress<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token punctuation">}</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSURLSessionDataTask <span class="token operator">*</span> _Nonnull task<span class="token punctuation">,</span> id  _Nullable responseObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>          NSDictionary <span class="token operator">*</span>dict <span class="token operator">=</span> <span class="token punctuation">[</span>NSJSONSerialization JSONObjectWithData<span class="token punctuation">:</span>responseObject options<span class="token punctuation">:</span><span class="token number">0</span> error<span class="token punctuation">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token keyword">self</span><span class="token punctuation">.</span>responseObj <span class="token operator">=</span> dict<span class="token punctuation">;</span>      <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSURLSessionDataTask <span class="token operator">*</span> _Nullable task<span class="token punctuation">,</span> NSError <span class="token operator">*</span> _Nonnull error<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token punctuation">[</span>mgr<span class="token punctuation">.</span>operationQueue cancelAllOperations<span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token function">SHOWERROR</span><span class="token punctuation">(</span><span class="token string">@"识别失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li></ul><blockquote><p>注意：在iOS转成base64的data的时候，是不带data:image/png;base64,这个头的，但是安卓在进行这些的时候是有的，所以需要跟后台商量好，踩坑了，以此谨记!<br>在AFN中还有另一种拼接方式，也是很常见的上传拼接方式</p></blockquote><h4 id="第二种方式"><a href="#第二种方式" class="headerlink" title="第二种方式"></a>第二种方式</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">/** POST请求（接收JSON格式数据） @param URLString  请求的URL @param parameters 请求的参数 @param photos 上传图片数组 @param success    请求成功的回调 @param failure    请求失败的回调 */</span><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>POST<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>URLString parameters<span class="token punctuation">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>parameters photos<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray <span class="token operator">*</span><span class="token punctuation">)</span>photos  success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>id responseObject<span class="token punctuation">)</span><span class="token punctuation">)</span> success failure<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span> failure <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 1、创建请求管理者</span>    AFHTTPSessionManager <span class="token operator">*</span>mgr <span class="token operator">=</span> <span class="token punctuation">[</span>AFHTTPSessionManager manager<span class="token punctuation">]</span><span class="token punctuation">;</span>    mgr<span class="token punctuation">.</span>responseSerializer <span class="token operator">=</span> <span class="token punctuation">[</span>AFHTTPResponseSerializer serializer<span class="token punctuation">]</span><span class="token punctuation">;</span>    mgr<span class="token punctuation">.</span>requestSerializer <span class="token operator">=</span> <span class="token punctuation">[</span>AFHTTPRequestSerializer serializer<span class="token punctuation">]</span><span class="token punctuation">;</span>    AFSecurityPolicy <span class="token operator">*</span>securityPolicy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>AFSecurityPolicy alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>securityPolicy setAllowInvalidCertificates<span class="token punctuation">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>mgr setSecurityPolicy<span class="token punctuation">:</span>securityPolicy<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>mgr<span class="token punctuation">.</span>requestSerializer setValue<span class="token punctuation">:</span><span class="token string">@"application/x-www-form-urlencoded; charset=utf-8"</span> forHTTPHeaderField<span class="token punctuation">:</span><span class="token string">@"Content-Type"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>mgr<span class="token punctuation">.</span>requestSerializer willChangeValueForKey<span class="token punctuation">:</span><span class="token string">@"timeoutInterval"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    mgr<span class="token punctuation">.</span>requestSerializer<span class="token punctuation">.</span>timeoutInterval <span class="token operator">=</span> <span class="token number">15.0f</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 默认超时时长为60s</span>    <span class="token punctuation">[</span>mgr<span class="token punctuation">.</span>requestSerializer didChangeValueForKey<span class="token punctuation">:</span><span class="token string">@"timeoutInterval"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    mgr<span class="token punctuation">.</span>responseSerializer<span class="token punctuation">.</span>acceptableContentTypes <span class="token operator">=</span> <span class="token punctuation">[</span>NSSet setWithObjects<span class="token punctuation">:</span><span class="token string">@"application/json"</span><span class="token punctuation">,</span> <span class="token string">@"text/json"</span><span class="token punctuation">,</span> <span class="token string">@"text/javascript"</span><span class="token punctuation">,</span> <span class="token string">@"text/html"</span><span class="token punctuation">,</span> <span class="token string">@"text/plain"</span><span class="token punctuation">,</span> nil<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>mgr POST<span class="token punctuation">:</span>URLString  parameters<span class="token punctuation">:</span>parameters constructingBodyWithBlock<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>id<span class="token operator">&lt;</span>AFMultipartFormData<span class="token operator">></span>  _Nonnull formData<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// formData: 专门用于拼接需要上传的数据,在此位置生成一个要上传的数据体</span>        <span class="token comment" spellcheck="true">// 这里的_photoArr是你存放图片的数组</span>        <span class="token comment" spellcheck="true">// formData: 专门用于拼接需要上传的数据,在此位置生成一个要上传的数据体</span>        <span class="token comment" spellcheck="true">// 这里的_photoArr是你存放图片的数组</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> photos<span class="token punctuation">.</span>count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            UIImage <span class="token operator">*</span>image <span class="token operator">=</span> photos<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//QFLog(@"+++++%@",image);</span>            NSData <span class="token operator">*</span>imageData <span class="token operator">=</span> <span class="token function">UIImagePNGRepresentation</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// 在网络开发中，上传文件时，是文件不允许被覆盖，文件重名</span>            <span class="token comment" spellcheck="true">// 要解决此问题，</span>            <span class="token comment" spellcheck="true">// 可以在上传时使用当前的系统事件作为文件名</span>            NSDateFormatter <span class="token operator">*</span>formatter <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSDateFormatter alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// 设置时间格式</span>            <span class="token punctuation">[</span>formatter setDateFormat<span class="token punctuation">:</span><span class="token string">@"yyyyMMddHHmmss"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            NSString <span class="token operator">*</span>dateString <span class="token operator">=</span> <span class="token punctuation">[</span>formatter stringFromDate<span class="token punctuation">:</span><span class="token punctuation">[</span>NSDate date<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            NSString <span class="token operator">*</span>fileName <span class="token operator">=</span> <span class="token punctuation">[</span>NSString  stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%@%ld.png"</span><span class="token punctuation">,</span> dateString<span class="token punctuation">,</span><span class="token punctuation">(</span>NSInteger<span class="token punctuation">)</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/*             *该方法的参数             1. appendPartWithFileData：要上传的照片[二进制流]             2. name：对应网站上[upload.php中]处理文件的字段（比如upload）             3. fileName：要保存在服务器上的文件名             4. mimeType：上传的文件的类型             */</span>            <span class="token punctuation">[</span>formData appendPartWithFileData<span class="token punctuation">:</span>imageData name<span class="token punctuation">:</span><span class="token string">@"file"</span> fileName<span class="token punctuation">:</span>fileName mimeType<span class="token punctuation">:</span><span class="token string">@"application/octet-stream"</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> progress<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSProgress <span class="token operator">*</span> _Nonnull uploadProgress<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSURLSessionDataTask <span class="token operator">*</span> _Nonnull task<span class="token punctuation">,</span> id  _Nullable responseObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">success</span><span class="token punctuation">(</span>responseObject<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">[</span>mgr<span class="token punctuation">.</span>operationQueue cancelAllOperations<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSURLSessionDataTask <span class="token operator">*</span> _Nullable task<span class="token punctuation">,</span> NSError <span class="token operator">*</span> _Nonnull error<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>failure<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">failure</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">[</span>mgr<span class="token punctuation">.</span>operationQueue cancelAllOperations<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="系统方式"><a href="#系统方式" class="headerlink" title="系统方式"></a>系统方式</h4><p>如果不用AFN的话，用系统的方法，就有点麻烦了，这里是系统的方法：  </p><pre class=" language-objectivec"><code class="language-objectivec">  <span class="token macro property">#<span class="token directive keyword">pragma</span> mark ------系统上传</span><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>uploadHeadImage<span class="token punctuation">:</span><span class="token punctuation">(</span>UIImage <span class="token operator">*</span><span class="token punctuation">)</span>image onSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span>dict<span class="token punctuation">)</span><span class="token punctuation">)</span>onSuccess onFailure<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span>onFailure <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//BaseWebAddr：服务器地址</span>    NSString <span class="token operator">*</span>urlStr <span class="token operator">=</span> <span class="token string">@"http://47.104.193.88:8080/plant/recognize"</span><span class="token punctuation">;</span>    NSURL <span class="token operator">*</span>url <span class="token operator">=</span> <span class="token punctuation">[</span>NSURL URLWithString<span class="token punctuation">:</span>urlStr<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//在此声明一个字符串常量,代替下面的 BOUNDARY 字符串</span><span class="token comment" spellcheck="true">//   NSString * const POST_BOUNDS = @"----iOSKitFormBoundarycIO0B6mmsXU6koBg";</span>    NSData <span class="token operator">*</span>imageData<span class="token punctuation">;</span>    NSString <span class="token operator">*</span>imageFormat<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">UIImagePNGRepresentation</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span> <span class="token operator">!=</span> nil<span class="token punctuation">)</span> <span class="token punctuation">{</span>        imageFormat <span class="token operator">=</span> <span class="token string">@"Content-Type: image/png \r\n"</span><span class="token punctuation">;</span>        imageData <span class="token operator">=</span> <span class="token function">UIImagePNGRepresentation</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>        imageData <span class="token operator">=</span> <span class="token punctuation">[</span>imageData base64EncodedDataWithOptions<span class="token punctuation">:</span>NSDataBase64Encoding64CharacterLineLength<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        imageFormat <span class="token operator">=</span> <span class="token string">@"Content-Type: image/jpeg \r\n"</span><span class="token punctuation">;</span>        imageData <span class="token operator">=</span> <span class="token function">UIImageJPEGRepresentation</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        imageData <span class="token operator">=</span> <span class="token punctuation">[</span>imageData base64EncodedDataWithOptions<span class="token punctuation">:</span>NSDataBase64Encoding64CharacterLineLength<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    NSMutableURLRequest <span class="token operator">*</span>request  <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableURLRequest requestWithURL<span class="token punctuation">:</span>url<span class="token punctuation">]</span><span class="token punctuation">;</span>    request<span class="token punctuation">.</span>HTTPMethod <span class="token operator">=</span> <span class="token string">@"POST"</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//设置请求实体</span>    NSMutableData <span class="token operator">*</span>body <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableData data<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">///文件参数</span>    <span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> getDataWithString<span class="token punctuation">:</span><span class="token string">@"--BOUNDARY\r\n"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    NSString <span class="token operator">*</span>disposition <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"Content-Disposition: form-data; name=\"%@\"; filename=\"pppp.jpg\"\r\n"</span><span class="token punctuation">,</span><span class="token string">@"img_base64"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> getDataWithString<span class="token punctuation">:</span>disposition<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> getDataWithString<span class="token punctuation">:</span>imageFormat<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> getDataWithString<span class="token punctuation">:</span><span class="token string">@"\r\n"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span>imageData<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> getDataWithString<span class="token punctuation">:</span><span class="token string">@"\r\n"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//普通参数</span>    <span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> getDataWithString<span class="token punctuation">:</span><span class="token string">@"--BOUNDARY\r\n"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//上传参数需要key</span>    NSString <span class="token operator">*</span>dispositions <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"Content-Disposition: form-data; name=\"%@\"\r\n"</span><span class="token punctuation">,</span><span class="token string">@"uid"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> getDataWithString<span class="token punctuation">:</span>dispositions<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> getDataWithString<span class="token punctuation">:</span><span class="token string">@"\r\n"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> getDataWithString<span class="token punctuation">:</span><span class="token string">@"\r\n"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//参数结束</span>    <span class="token punctuation">[</span>body appendData<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> getDataWithString<span class="token punctuation">:</span><span class="token string">@"--BOUNDARY--\r\n"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    request<span class="token punctuation">.</span>HTTPBody <span class="token operator">=</span> body<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//设置请求体长度</span>    NSInteger length <span class="token operator">=</span> <span class="token punctuation">[</span>body length<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>request setValue<span class="token punctuation">:</span><span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%ld"</span><span class="token punctuation">,</span>length<span class="token punctuation">]</span> forHTTPHeaderField<span class="token punctuation">:</span><span class="token string">@"Content-Length"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//设置 POST请求文件上传</span>    <span class="token punctuation">[</span>request setValue<span class="token punctuation">:</span><span class="token string">@"multipart/form-data; boundary=BOUNDARY"</span> forHTTPHeaderField<span class="token punctuation">:</span><span class="token string">@"Content-Type"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    NSURLSession <span class="token operator">*</span>session <span class="token operator">=</span> <span class="token punctuation">[</span>NSURLSession sharedSession<span class="token punctuation">]</span><span class="token punctuation">;</span>    NSURLSessionDataTask <span class="token operator">*</span>dataTask <span class="token operator">=</span> <span class="token punctuation">[</span>session dataTaskWithRequest<span class="token punctuation">:</span>request completionHandler<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSData <span class="token operator">*</span> _Nullable data<span class="token punctuation">,</span> NSURLResponse <span class="token operator">*</span> _Nullable response<span class="token punctuation">,</span> NSError <span class="token operator">*</span> _Nullable error<span class="token punctuation">)</span> <span class="token punctuation">{</span>        NSJSONSerialization <span class="token operator">*</span>object <span class="token operator">=</span> <span class="token punctuation">[</span>NSJSONSerialization JSONObjectWithData<span class="token punctuation">:</span>data options<span class="token punctuation">:</span>NSJSONReadingMutableLeaves error<span class="token punctuation">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>        NSDictionary <span class="token operator">*</span>dict <span class="token operator">=</span> <span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span><span class="token punctuation">)</span>object<span class="token punctuation">;</span>        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"=====%@"</span><span class="token punctuation">,</span><span class="token punctuation">[</span>dict objectForKey<span class="token punctuation">:</span><span class="token string">@"success"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//开始任务</span>    <span class="token punctuation">[</span>dataTask resume<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token operator">-</span><span class="token punctuation">(</span>NSData <span class="token operator">*</span><span class="token punctuation">)</span>getDataWithString<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>string<span class="token punctuation">{</span>    NSData <span class="token operator">*</span>data <span class="token operator">=</span> <span class="token punctuation">[</span>string dataUsingEncoding<span class="token punctuation">:</span>NSUTF8StringEncoding<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> data<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>这里的参数是img_base64:imageData uid:uid<br>本人也是在踩坑的路上不断前进，希望对大家有用</p>]]></content>
      
      
      <categories>
          
          <category> AFN表单上传图片 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AFN表单上传图片 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>修改UITextField的placeHolder文字颜色的三种方法</title>
      <link href="/jackerchongchong.github.io/2019/08/21/iosbase2/"/>
      <url>/jackerchongchong.github.io/2019/08/21/iosbase2/</url>
      
        <content type="html"><![CDATA[<h4 id="修改TextField的占位文字的三种方法"><a href="#修改TextField的占位文字的三种方法" class="headerlink" title="修改TextField的占位文字的三种方法"></a>修改TextField的占位文字的三种方法</h4><h5 id="第一种-：通过TextField的attributedPlaceholder属性修改占位文字颜色"><a href="#第一种-：通过TextField的attributedPlaceholder属性修改占位文字颜色" class="headerlink" title="第一种 ：通过TextField的attributedPlaceholder属性修改占位文字颜色"></a>第一种 ：通过TextField的<code>attributedPlaceholder</code>属性修改占位文字颜色</h5><p>例如：  </p><pre class=" language-objectivec"><code class="language-objectivec">NSAttributedString <span class="token operator">*</span>attr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSAttributedString  alloc<span class="token punctuation">]</span>initWithString<span class="token punctuation">:</span><span class="token string">@"搜索位置"</span>attributes<span class="token punctuation">:</span><span class="token operator">@</span><span class="token punctuation">{</span>NSForegroundColorAttributeName<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span>UIColor whiteColor<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">self</span><span class="token punctuation">.</span>searchTextField<span class="token punctuation">.</span>attributedPlaceholder <span class="token operator">=</span> attr<span class="token punctuation">;</span></code></pre><h5 id="第二种-：通过继承UItextfield，然后重写-void-drawPlaceholderInRect-CGRect-rect方法修改"><a href="#第二种-：通过继承UItextfield，然后重写-void-drawPlaceholderInRect-CGRect-rect方法修改" class="headerlink" title="第二种 ：通过继承UItextfield，然后重写-(void)drawPlaceholderInRect:(CGRect)rect方法修改"></a>第二种 ：通过继承UItextfield，然后重写<code>-(void)drawPlaceholderInRect:(CGRect)rect</code>方法修改</h5><p>例如：  </p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 修改占位文字颜色</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>drawPlaceholderInRect<span class="token punctuation">:</span><span class="token punctuation">(</span>CGRect<span class="token punctuation">)</span>rect <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 计算占位文字的 Size</span>    CGSize placeholderSize <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>placeholder sizeWithAttributes<span class="token punctuation">:</span>                              <span class="token operator">@</span><span class="token punctuation">{</span>NSFontAttributeName <span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">.</span>font<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    CGRect drawRect <span class="token operator">=</span> <span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>rect<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height <span class="token operator">-</span> placeholderSize<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> rect<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span> rect<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>    NSDictionary <span class="token operator">*</span>attributes <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">{</span>NSForegroundColorAttributeName<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span>UIColor whiteColor<span class="token punctuation">]</span> colorWithAlphaComponent<span class="token punctuation">:</span><span class="token number">0.8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>NSFontAttributeName <span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">.</span>font<span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>placeholder drawInRect<span class="token punctuation">:</span>drawRect withAttributes<span class="token punctuation">:</span>attributes<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h5 id="第三种-：通过KVC的方式"><a href="#第三种-：通过KVC的方式" class="headerlink" title="第三种 ：通过KVC的方式"></a>第三种 ：通过KVC的方式</h5><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 'self'指的是UITextfield</span><span class="token punctuation">[</span><span class="token keyword">self</span> setValue<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span>UIColor whiteColor<span class="token punctuation">]</span> colorWithAlphaComponent<span class="token punctuation">:</span><span class="token number">0.8</span><span class="token punctuation">]</span> forKeyPath<span class="token punctuation">:</span><span class="token string">@"_placeholderLabel.textColor"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><blockquote><p>通过KVC的方式有一定风险，如果系统更新，官方文档中修改了一些控件的属性名称，则会导致程序崩溃</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> iOS基础知识总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS基础知识总结 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>打开Mac电脑任何来源的方法</title>
      <link href="/jackerchongchong.github.io/2019/08/16/macbase0/"/>
      <url>/jackerchongchong.github.io/2019/08/16/macbase0/</url>
      
        <content type="html"><![CDATA[<h4 id="打开Mac电脑任何来源的方法"><a href="#打开Mac电脑任何来源的方法" class="headerlink" title="打开Mac电脑任何来源的方法"></a>打开Mac电脑任何来源的方法</h4><p>Mac 升级到10.12.4后，一些网络下载的软件打开提示，该文件已损坏。以前在  偏好设置-&gt;安全性设置  有“任何来源”，勾选即可，现在没有了这个选项。<br>开启这个功能：<br>打开<code>Terminal</code>，输入指令</p><blockquote><p> sudo spctl –master-disable </p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Mac使用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac使用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iOS点击按钮震动小效果</title>
      <link href="/jackerchongchong.github.io/2019/08/14/iosbase1/"/>
      <url>/jackerchongchong.github.io/2019/08/14/iosbase1/</url>
      
        <content type="html"><![CDATA[<h2 id="iOS震动反馈"><a href="#iOS震动反馈" class="headerlink" title="iOS震动反馈"></a>iOS震动反馈</h2><p><font color="#E47C48">iOS 10</font>之后，推出了震动反馈，比之前的震动效果好很多，现在在很多APP中的一些功能中会加入这个功能，让客户更明确自己的行为，比如在下拉刷新，在点击按钮获取验证码的时候，如果加上这个效果，会让用户体验更好一些。<br>震动反馈会用到 <font color="#00A0FF">UIFeedbackGenerator</font> 点击进入这个类，这类里面是这样的。  </p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token macro property">#<span class="token directive keyword">import</span> &lt;UIKit/UIFeedbackGenerator.h></span>NS_ASSUME_NONNULL_BEGIN<span class="token keyword">typedef</span> <span class="token function">NS_ENUM</span><span class="token punctuation">(</span>NSInteger<span class="token punctuation">,</span> UIImpactFeedbackStyle<span class="token punctuation">)</span> <span class="token punctuation">{</span>    UIImpactFeedbackStyleLight<span class="token punctuation">,</span>    UIImpactFeedbackStyleMedium<span class="token punctuation">,</span>    UIImpactFeedbackStyleHeavy<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// UIImpactFeedbackGenerator is used to give user feedback when an impact between UI elements occurs</span><span class="token function">UIKIT_CLASS_AVAILABLE_IOS_ONLY</span><span class="token punctuation">(</span>10_0<span class="token punctuation">)</span> <span class="token keyword">@interface</span> UIImpactFeedbackGenerator <span class="token punctuation">:</span> UIFeedbackGenerator<span class="token operator">-</span> <span class="token punctuation">(</span>instancetype<span class="token punctuation">)</span>initWithStyle<span class="token punctuation">:</span><span class="token punctuation">(</span>UIImpactFeedbackStyle<span class="token punctuation">)</span>style<span class="token punctuation">;</span><span class="token comment" spellcheck="true">/// call when your UI element impacts something else</span><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>impactOccurred<span class="token punctuation">;</span><span class="token keyword">@end</span>NS_ASSUME_NONNULL_END<span class="token macro property">#<span class="token directive keyword">else</span></span><span class="token macro property">#<span class="token directive keyword">import</span> &lt;UIKitCore/UIImpactFeedbackGenerator.h></span><span class="token macro property">#<span class="token directive keyword">endif</span></span></code></pre><p>调用方法也很简单：  </p><pre class=" language-objectivec"><code class="language-objectivec">    <span class="token comment" spellcheck="true">// 主线程</span>    <span class="token function">dispatch_async</span><span class="token punctuation">(</span><span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 版本限制</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">@</span><span class="token function">available</span><span class="token punctuation">(</span>iOS <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// 初始化震动反馈类</span>            UIImpactFeedbackGenerator <span class="token operator">*</span>generator <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>UIImpactFeedbackGenerator alloc<span class="token punctuation">]</span> initWithStyle<span class="token punctuation">:</span>UIImpactFeedbackStyleLight<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// 准备</span>            <span class="token punctuation">[</span>generator prepare<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// 调用</span>            <span class="token punctuation">[</span>generator impactOccurred<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>只需要在比如按钮点击的时候调用这个方法即可，很不多的用户体验</p>]]></content>
      
      
      <categories>
          
          <category> iOS基础知识总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS基础知识总结 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OC中的宏、static、const、宏</title>
      <link href="/jackerchongchong.github.io/2019/08/01/iosbase0/"/>
      <url>/jackerchongchong.github.io/2019/08/01/iosbase0/</url>
      
        <content type="html"><![CDATA[<h2 id="OC中extern、static、const和宏的一些用法区别，和使用场景"><a href="#OC中extern、static、const和宏的一些用法区别，和使用场景" class="headerlink" title="OC中extern、static、const和宏的一些用法区别，和使用场景"></a>OC中<font color="#D31895">extern</font>、<font color="#D31895">static</font>、<font color="#D31895">const</font>和宏的一些用法区别，和使用场景</h2><h3 id="1、宏"><a href="#1、宏" class="headerlink" title="1、宏"></a>1、宏</h3><p>宏可以定义代码，用<font color="#E47C48">#define</font>来声明。它可以定义一些常量，例如：<br>1.定义字符串：<br><code>#define kSessionId @&quot;kSessionId&quot;</code><br>2.定义一些代码：<br><code>#define GETTOKEN [[NSUserDefaults standardUserDefaults] stringForKey:KToken]</code><br>3、可以做一些判断如:  </p><pre><code>＃define  定义一个预处理宏＃undef   取消宏的定义＃if      编译预处理中的条件命令， 相当于C语法中的if语句＃ifdef   判断某个宏是否被定义(＃define过)， 若已定义， 执行随后的语句＃ifndef  与＃ifdef相反， 判断某个宏是否未被定义＃elif    若＃if， ＃ifdef， ＃ifndef或前面的＃elif条件不满足， 则执行＃elif之后的语句， 相当于C语法中的else-if＃else    与＃if， ＃ifdef， ＃ifndef对应， 若这些条件不满足， 则执行＃else之后的语句， 相当于C语法中的else＃endif   ＃if， ＃ifdef， ＃ifndef这些条件命令的结束标志.defined   与＃if， ＃elif配合使用， 判断某个宏是否被定义＃pragma  说明编译器信息＃warning 显示编译警告信息＃error   显示编译错误信息</code></pre><p>配置debug  </p><pre><code>1.在 &quot;Target &gt; Build Settings &gt; Preprocessor Macros &gt; Debug&quot; 设置&quot;DEBUG=1”。2.之后在pch或工具类中就可以这么写了：#ifdef DEBUG  （debug 模式下的配置）#else  （release 模式下的配置）#endif </code></pre><p>宏定义的一些常量和代码一般执行的是替换，宏会在编译期被加载，所以如果宏定义过多，会影响编译的时间，所以定义一些常量，不应该在宏定义中去定义这些全局变量。那么应该用什么去定义呢，这里用到了<font color="#D31895">extern</font></p><h3 id="2、extern"><a href="#2、extern" class="headerlink" title="2、extern"></a>2、<font color="#D31895">extern</font></h3><p>如果要声明一个常量的字符串，例如声明一些接口地址、统一声明NSNotificationName等，用<font color="#D31895">extern</font>声明，<br>使用：在一个类的.h中声明：<br><code>extern NSString *const refeshProjectAndClouldWorkList;</code><br>在.m文件中：<br><code>NSString *const refeshProjectAndClouldWorkList = @&quot;refeshProjectAndClouldWorkList&quot;</code><br>使用，引入这个文件即可，也可以在需要用的地方，重新声明一下<br><font color="#D31895">extern</font>工作原理：先会去当前文件下查找有没有对应全局变量，如果没有，才会去其他文件查找</p><h3 id="3、static"><a href="#3、static" class="headerlink" title="3、static"></a>3、<font color="#D31895">static</font></h3><p>1、被static修饰局部变量，延长生命周期，跟整个应用程序有关，程序结束才会销毁，如下：在一个类的里面打印下面的方法，只要程序不销毁, a 的值就不会被销毁，会一直保持最后一次给 a 赋的值<br>2、被 static 修饰局部变量，只会分配一次内存<br>3、程序一运行就会给static修饰变量分配内存<br>4、修饰全局变量，被static修饰全局变量，作用域会修改，也就是只能在当前文件下使用</p><h3 id="4、const"><a href="#4、const" class="headerlink" title="4、const"></a>4、<font color="#D31895">const</font></h3><p>1.仅仅只是用来修饰右边的变量（基本变量，指针变量，对象变量)<br>2.const修饰的变量只读,是(只读)变量</p><h3 id="5、-extern-和const配合使用"><a href="#5、-extern-和const配合使用" class="headerlink" title="5、 extern 和const配合使用"></a>5、<font color="#D31895"> extern </font>和<font color="#D31895">const</font>配合使用</h3><p><font color="#D31895">static</font>与<font color="#D31895">const</font>组合：在每个文件都需要定义一份静态全局变量。<br><font color="#D31895"> extern </font>与<font color="#D31895"> const </font>组合:只需要定义一份全局变量，多个文件共享。  </p><blockquote><p>提示：开发中便于管理所有的全局变量，通常搞一个Global文件，里面专门定义全局变量，统一管理，要不然项目文件太多不好找  </p></blockquote><p>当我们在一个防止一个变量被修改的时候，我们在前面加上 <font color="#D31895">const</font><br>3、<font color="#D31895"> extern </font> 的高级使用 (模仿 YYKIT 的使用 ),其实它只是把苹果的宏拿过来改改名字，看起来很牛逼，我们也可以牛逼一下，如下：  </p><p>苹果的定义：<br><font color="#E47C48">UIKIT_EXTERN</font> NSString *const refeshProjectAndClouldWorkList  </p><h5 id="欢迎大家关注-https-jackerchongchong-github-io-，提出您宝贵的意见"><a href="#欢迎大家关注-https-jackerchongchong-github-io-，提出您宝贵的意见" class="headerlink" title="欢迎大家关注 https://jackerchongchong.github.io ，提出您宝贵的意见"></a><font color="#00A0FF">欢迎大家关注 <a href="https://jackerchongchong.github.io">https://jackerchongchong.github.io</a> ，提出您宝贵的意见</font></h5>]]></content>
      
      
      <categories>
          
          <category> iOS基础知识总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS基础知识总结 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>粘性布局</title>
      <link href="/jackerchongchong.github.io/2019/07/31/firstarticle/"/>
      <url>/jackerchongchong.github.io/2019/07/31/firstarticle/</url>
      
        <content type="html"><![CDATA[<h2 id="粘性布局"><a href="#粘性布局" class="headerlink" title="粘性布局"></a>粘性布局</h2><h3 id="整体思路"><a href="#整体思路" class="headerlink" title="整体思路"></a>整体思路</h3><p>  <strong>手指移动,按钮跟着移动.按钮跟着手指移动.移动时底部有一个圆,<br>     根据上面的大圆按钮拖动的距离,小圆的半径在变小.移动时中间有一块不规则的填充区域.<br>     手指移动超出一定的范围,填充效果消失,当手指松开时.判断当前大圆距离与小圆之间的距离.<br>     如果小于60就让大圆回来原来的位置.下次拖动时,同样具有填充效果.<br>     如果大于60,手指松开时,播放一个动画.动画完成时, 删除动画按钮.</strong></p><h3 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h3><h4 id="1、自定义大圆控件（UIButton）可以显示背景图片，和文字"><a href="#1、自定义大圆控件（UIButton）可以显示背景图片，和文字" class="headerlink" title="1、自定义大圆控件（UIButton）可以显示背景图片，和文字"></a>1、自定义大圆控件（UIButton）可以显示背景图片，和文字</h4><p>按钮定义的时候要在初始方法中,把它的基本属性设置好.在开始加载的时候设置.基本属性包括颜色,圆角,文字颜色,大小.<br>实现代码：    </p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token keyword">self</span><span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token punctuation">[</span>UIColor redColor<span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token keyword">self</span><span class="token punctuation">.</span>layer<span class="token punctuation">.</span>cornerRadius <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>bounds<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">;</span>    <span class="token keyword">self</span><span class="token punctuation">.</span>titleLabel<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token punctuation">[</span>UIFont systemFontOfSize<span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">[</span><span class="token keyword">self</span> setTitleColor<span class="token punctuation">:</span><span class="token punctuation">[</span>UIColor whiteColor<span class="token punctuation">]</span>forState<span class="token punctuation">:</span>UIControlStateNormal<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h4 id="2、让大圆控件随着手指移动而移动"><a href="#2、让大圆控件随着手指移动而移动" class="headerlink" title="2、让大圆控件随着手指移动而移动"></a>2、让大圆控件随着手指移动而移动</h4><p>添加手势.同样也是在初始化方法当中进行设置.注意不能根据形变修改大圆的位置，只能通过center，因为全程都需要用到中心点计算。tansform并没有修改center,它修改的是Frame.<br>添加手势代码为:    </p><pre class=" language-objectivec"><code class="language-objectivec">UIPanGestureRecognizer <span class="token operator">*</span>pan <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>UIPanGestureRecognizer alloc<span class="token punctuation">]</span> initWithTarget<span class="token punctuation">:</span><span class="token keyword">self</span> action<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>pan<span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">[</span><span class="token keyword">self</span> addGestureRecognizer<span class="token punctuation">:</span>pan<span class="token punctuation">]</span><span class="token punctuation">;</span>  </code></pre><p>手势实现方法为:   </p><pre class=" language-objectivec"><code class="language-objectivec">     CGPoint transP <span class="token operator">=</span> <span class="token punctuation">[</span>pan translationInView<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span>     CGPoint center <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>center<span class="token punctuation">;</span>     center<span class="token punctuation">.</span>x <span class="token operator">+</span><span class="token operator">=</span> transP<span class="token punctuation">.</span>x<span class="token punctuation">;</span>     center<span class="token punctuation">.</span>y <span class="token operator">+</span><span class="token operator">=</span>transP<span class="token punctuation">.</span>y<span class="token punctuation">;</span>     <span class="token keyword">self</span><span class="token punctuation">.</span>center <span class="token operator">=</span> center<span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// 注意要做复位,相对于上一次.</span>     <span class="token punctuation">[</span>pan setTranslation<span class="token punctuation">:</span>CGPointZero inView<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h4 id="3、在拖动的时候，添加一个小圆控件在原来大圆控件的位置"><a href="#3、在拖动的时候，添加一个小圆控件在原来大圆控件的位置" class="headerlink" title="3、在拖动的时候，添加一个小圆控件在原来大圆控件的位置"></a>3、在拖动的时候，添加一个小圆控件在原来大圆控件的位置</h4><p>在初始化方法中添加小圆注意:添加小圆时不能够直接添加在当前按钮上,因为按钮是可以移动的,如果直接添加在按钮,它会跟着按钮一起移动.所以以把小圆添加到按钮父控件当中.添加时注意,要把小圆添加到按钮底部.不然会把按钮给盖起来.  </p><pre class=" language-objectivec"><code class="language-objectivec">   UIView <span class="token operator">*</span>smallCircle <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>UIView alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>               smallCircle<span class="token punctuation">.</span>frame <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>frame<span class="token punctuation">;</span>   smallCircle<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>cornerRadius <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>layer<span class="token punctuation">.</span>cornerRadius<span class="token punctuation">;</span>   smallCircle<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">;</span>   <span class="token keyword">self</span><span class="token punctuation">.</span>smallCircle <span class="token operator">=</span> smallCircle<span class="token punctuation">;</span>   <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>superview insertSubview<span class="token punctuation">:</span>smallCircle belowSubview<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      </code></pre><p>当手指拖动大圆时,小圆的半径会根据拖动的距离进行减小.所以要计算出两个圆之间的距离.计算完毕后.让小圆的原始半径每次都减去一个距离比例.重新设置尺寸大小.和小圆的半径.计算两个圆之间距离是一个功能单独抽出来.<br>方法为:  </p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token operator">-</span> <span class="token punctuation">(</span>CGFloat<span class="token punctuation">)</span>distanceWithSmallCircle<span class="token punctuation">:</span><span class="token punctuation">(</span>UIView <span class="token operator">*</span><span class="token punctuation">)</span>smallView bigCircle<span class="token punctuation">:</span><span class="token punctuation">(</span>UIView <span class="token operator">*</span><span class="token punctuation">)</span>bigCircle<span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// X轴的便宜量</span>    CGFloat offsetX <span class="token operator">=</span> bigCircle<span class="token punctuation">.</span>center<span class="token punctuation">.</span>x <span class="token operator">-</span> smallView<span class="token punctuation">.</span>center<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// Y轴的便宜量</span>    CGFloat offsetY <span class="token operator">=</span> bigCircle<span class="token punctuation">.</span>center<span class="token punctuation">.</span>y <span class="token operator">-</span> smallView<span class="token punctuation">.</span>center<span class="token punctuation">.</span>y<span class="token punctuation">;</span>    CGFloat distance <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>offsetX <span class="token operator">*</span> offsetX <span class="token operator">+</span> offsetY <span class="token operator">*</span> offsetY<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> distance<span class="token punctuation">;</span><span class="token punctuation">}</span>  </code></pre><p>在手指拖动方法计算两个圆之间的距离, 根据拖动的距离让小圆的半径增大减小.<br>实现代码为:<br><code>CGFloat distance = [self distanceWithSmallCircle:self.smallCircle bigCircle:self];</code><br>取出小圆的半径,注意这里是取出小圆最初的宽度,由于每次拖动的时候都会去修改小圆的宽高.所以这里不能直接用小圆的宽度,这里用的是大圆的宽度,开始小圆和大圆的宽度是一样的.大圆在移动时,大圆的宽高没有发现变化,所以可以拿到大圆的宽高<br><code>CGFloat smallR = self.bounds.size.width * 0.5;</code><br>让小圆的半径每次减去一个距离比例<br><code>smallR = smallR - distance / 10.0;</code><br>每次移动时,重新设置小圆的宽高<br><code>self.smallCircle.bounds = CGRectMake(0, 0, smallR * 2, smallR * 2);</code><br>重新设置小圆的圆角<br><code>self.smallCircle.layer.cornerRadius = smallR;</code>  </p><h4 id="4、添加粘性效果"><a href="#4、添加粘性效果" class="headerlink" title="4、添加粘性效果"></a>4、添加粘性效果</h4><p>中间的粘性效果其实就是一块填充区域.只要把这个填充区域的路径给求出来就行了.中间的路径通过确定6个点.把这些点连接出来就行.<br>求点为:  </p><pre class=" language-objectivec"><code class="language-objectivec">     x1<span class="token punctuation">,</span>y1分别是小圆的圆心     x2<span class="token punctuation">,</span>y2分别是大圆的圆心     r1代表小圆的半径     r2代表大圆的半径     d是两个圆之间的距离     y轴的偏移量 <span class="token operator">/</span> 两个圆之间的距离     cosθ <span class="token operator">=</span> <span class="token punctuation">(</span>y2 <span class="token operator">-</span> y1<span class="token punctuation">)</span> <span class="token operator">/</span> d<span class="token punctuation">;</span>     x轴的偏移量 <span class="token operator">/</span> 两个圆之间的距离     sinθ <span class="token operator">=</span> <span class="token punctuation">(</span>x2 <span class="token operator">-</span> x1<span class="token punctuation">)</span> <span class="token operator">/</span> d<span class="token punctuation">;</span>     已知一个角<span class="token punctuation">,</span>一个斜边     角的邻边 <span class="token operator">=</span> 斜边 <span class="token operator">*</span> cosθ     角的对边 <span class="token operator">=</span> 斜边 <span class="token operator">*</span> sinθ     CGPoint pointA <span class="token operator">=</span> <span class="token function">CGPointMake</span><span class="token punctuation">(</span>x1 <span class="token operator">-</span> r1 <span class="token operator">*</span> cosθ<span class="token punctuation">,</span> y1 <span class="token operator">+</span> r1 <span class="token operator">*</span> sinθ<span class="token punctuation">)</span><span class="token punctuation">;</span>     CGPoint pointB <span class="token operator">=</span> <span class="token function">CGPointMake</span><span class="token punctuation">(</span>x1 <span class="token operator">+</span> r1 <span class="token operator">*</span> cosθ<span class="token punctuation">,</span> y1 <span class="token operator">-</span> r1 <span class="token operator">*</span> sinθ<span class="token punctuation">)</span><span class="token punctuation">;</span>     CGPoint pointC <span class="token operator">=</span> <span class="token function">CGPointMake</span><span class="token punctuation">(</span>x2 <span class="token operator">+</span> r2 <span class="token operator">*</span> cosθ<span class="token punctuation">,</span> y2 <span class="token operator">-</span> r2 <span class="token operator">*</span> sinθ<span class="token punctuation">)</span><span class="token punctuation">;</span>     CGPoint pointD <span class="token operator">=</span> <span class="token function">CGPointMake</span><span class="token punctuation">(</span>x2 <span class="token operator">-</span> r2 <span class="token operator">*</span> cosθ<span class="token punctuation">,</span> y2 <span class="token operator">+</span> r2 <span class="token operator">*</span> sinθ<span class="token punctuation">)</span><span class="token punctuation">;</span>     CGPoint pointO <span class="token operator">=</span> <span class="token function">CGPointMake</span><span class="token punctuation">(</span>pointA<span class="token punctuation">.</span>x <span class="token operator">+</span> d <span class="token operator">*</span> <span class="token number">0.5</span> <span class="token operator">*</span> sinθ<span class="token punctuation">,</span> pointA<span class="token punctuation">.</span>y <span class="token operator">+</span> d <span class="token operator">*</span> <span class="token number">0.5</span> <span class="token operator">*</span> cosθ<span class="token punctuation">)</span><span class="token punctuation">;</span>     CGPoint pointP <span class="token operator">=</span> <span class="token function">CGPointMake</span><span class="token punctuation">(</span>pointB<span class="token punctuation">.</span>x <span class="token operator">+</span> d <span class="token operator">*</span> <span class="token number">0.5</span> <span class="token operator">*</span> sinθ<span class="token punctuation">,</span> pointB<span class="token punctuation">.</span>y <span class="token operator">+</span> d <span class="token operator">*</span> <span class="token number">0.5</span> <span class="token operator">*</span> cosθ<span class="token punctuation">)</span><span class="token punctuation">;</span>  </code></pre><p>创建路径,把这些点连接到一起  </p><pre class=" language-objectivec"><code class="language-objectivec">UIBezierPath <span class="token operator">*</span>path <span class="token operator">=</span> <span class="token punctuation">[</span>UIBezierPath bezierPath<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// AB</span><span class="token punctuation">[</span>path moveToPoint<span class="token punctuation">:</span>pointA<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">[</span>path addLineToPoint<span class="token punctuation">:</span>pointB<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// BC(曲线)</span><span class="token punctuation">[</span>path addQuadCurveToPoint<span class="token punctuation">:</span>pointC controlPoint<span class="token punctuation">:</span>pointP<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// CD</span><span class="token punctuation">[</span>path addLineToPoint<span class="token punctuation">:</span>pointD<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// DA(曲线)</span><span class="token punctuation">[</span>path addQuadCurveToPoint<span class="token punctuation">:</span>pointA controlPoint<span class="token punctuation">:</span>pointO<span class="token punctuation">]</span><span class="token punctuation">;</span>      </code></pre><p>以上是根据两个圆求出不规则的矩形<br>求出路径后,要把路径填充起来.但是不能够直接给填充到当前的按钮之上.按钮是可以拖动的.绘制东西,当超出它的范围以外就不会再绘制.所以要把路径添加到按钮的父控件当中, 但是当前是一个路径,是不能够直接添加到父控件当中的.可能过形状图层添加.形状图层会根据一个路径生成一个形状.把这个形状添加到当前控件的图片父层就可以了.添加时需要注意:形状图层之有一个,所以不能够在手指拖动方法当中添加.由于当手指拖动的距离超过某个范围后,形状图片会被移除.下一次再去移动时, 还会有填充的路径.所以把创建形状图层搞成一个懒加载的形式,如果发现下一次被删除时,再重新创建.<br>形式为:  </p><pre class=" language-objectivec"><code class="language-objectivec"><span class="token operator">-</span><span class="token punctuation">(</span>CAShapeLayer <span class="token operator">*</span><span class="token punctuation">)</span>shap<span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>_shap <span class="token operator">==</span> nil<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 创建形状图层</span>        CAShapeLayer <span class="token operator">*</span>shap <span class="token operator">=</span> <span class="token punctuation">[</span>CAShapeLayer layer<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 设置形状图层的填充颜色</span>        shap<span class="token punctuation">.</span>fillColor <span class="token operator">=</span> <span class="token punctuation">[</span>UIColor redColor<span class="token punctuation">]</span><span class="token punctuation">.</span>CGColor<span class="token punctuation">;</span>        <span class="token keyword">self</span><span class="token punctuation">.</span>shap <span class="token operator">=</span> shap<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 把形状图层添加到当前按钮的父层当中.</span>        <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>superview<span class="token punctuation">.</span>layer insertSublayer<span class="token punctuation">:</span>shap atIndex<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        _shap <span class="token operator">=</span> shap<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> _shap<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>在手指移动方法当中,给形状图层赋值路径就可以了.</p><h4 id="5-粘性业务逻辑处理"><a href="#5-粘性业务逻辑处理" class="headerlink" title="5.粘性业务逻辑处理"></a>5.粘性业务逻辑处理</h4><p>在手指移动方法判断两个圆之间的距离, 如果发现两个圆之间的距离超过60时<br>让底部的小圆隐藏.把路径移除<br>当小圆显示的时候才绘制填充路径  </p><pre class=" language-objectivec"><code class="language-objectivec">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>smallCircle<span class="token punctuation">.</span>hidden <span class="token operator">==</span> NO<span class="token punctuation">)</span> <span class="token punctuation">{</span>        UIBezierPath <span class="token operator">*</span>path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span> pathWithSmallCircle<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>smallCircle bigCircle<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">self</span><span class="token punctuation">.</span>shap<span class="token punctuation">.</span>path <span class="token operator">=</span> path<span class="token punctuation">.</span>CGPath<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>当两个圆之间的距离超过60时.  </p><pre class=" language-objectivec"><code class="language-objectivec">    <span class="token keyword">if</span><span class="token punctuation">(</span>distance <span class="token operator">></span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">{</span>          <span class="token comment" spellcheck="true">// 移除填充路径</span>          <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>shap removeFromSuperlayer<span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">// 让底部的小圆隐匿</span>          <span class="token keyword">self</span><span class="token punctuation">.</span>smallCircle<span class="token punctuation">.</span>hidden <span class="token operator">=</span> YES<span class="token punctuation">;</span>     <span class="token punctuation">}</span></code></pre><h4 id="6-手指停止拖动业务逻辑"><a href="#6-手指停止拖动业务逻辑" class="headerlink" title="6.手指停止拖动业务逻辑"></a>6.手指停止拖动业务逻辑</h4><p>移动后手指松开时判断两个圆之间的距离,如果两个圆之间的距离小于60时,让大圆复位.小圆显示.  </p><p>手指松开时,如果两个圆之间的距离大于60时.播放一个动画.动画播放完毕时.把当前按钮从父控件当中移除.<br>播放一个动画.<br>创建一个UIImageView,尺寸和当前按钮一样大.<br><code>UIImageView *imageV = [[UIImageView alloc] initWithFrame:self.bounds];</code><br>创建动画图片  </p><pre class=" language-objectivec"><code class="language-objectivec">      NSMutableArray <span class="token operator">*</span>imageArray <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableArray array<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          NSString <span class="token operator">*</span>imageName <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span><span class="token string">@"%d"</span><span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>          UIImage <span class="token operator">*</span>image <span class="token operator">=</span> <span class="token punctuation">[</span>UIImage imageNamed<span class="token punctuation">:</span>imageName<span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token punctuation">[</span>imageArray addObject<span class="token punctuation">:</span>image<span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span></code></pre><p>设置动画图片数组<br><code>imageV.animationImages = imageArray;</code><br>设置动画执行时长<br><code>imageV.animationDuration = 1;</code><br>开始动画<br><code>[imageV startAnimating];</code><br>把UIImageView添加到当前按钮上  </p><pre class=" language-objectivec"><code class="language-objectivec">    <span class="token punctuation">[</span><span class="token keyword">self</span> addSubview<span class="token punctuation">:</span>imageV<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">dispatch_after</span><span class="token punctuation">(</span><span class="token function">dispatch_time</span><span class="token punctuation">(</span>DISPATCH_TIME_NOW<span class="token punctuation">,</span> <span class="token punctuation">(</span>int64_t<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> NSEC_PER_SEC<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>        <span class="token punctuation">[</span><span class="token keyword">self</span> removeFromSuperview<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="注意"><a href="#注意" class="headerlink" title="注意:"></a>注意:</h5><p> 在控制器加载完毕后,要取消Autoresizing转自动布局<br> 不然会出现按钮回原位的情况.  </p><p>  <code>self.view.translatesAutoresizingMaskIntoConstraints = NO;</code></p>]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
